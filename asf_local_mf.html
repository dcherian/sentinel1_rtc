
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Xarray open_mfdataset() approach &#8212; Sentinel-1 RTC data workflows with xarray</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GDAL VRT approach" href="asf_local_vrt_troubleshoot.html" />
    <link rel="prev" title="Data cleaning and organization" href="ch1_root.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Sentinel-1 RTC data workflows with xarray</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Thanks for coming to this site! Please note it is under construction
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="ch1_root.html">
   Data cleaning and organization
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Xarray
     <code class="docutils literal notranslate">
      <span class="pre">
       open_mfdataset()
      </span>
     </code>
     approach
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="asf_local_vrt_troubleshoot.html">
     GDAL VRT approach
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="PC_RTC.html">
     Microsoft Planetary Computer Sentinel-1 RTC Imagery
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="ch2_root.html">
   Dataset comparison and preliminary analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="dataset_comparison_new.html">
     RTC dataset comparison
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="rtc_timeseries.html">
     RTC time series analysis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="questions.html">
   Dataset questions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="References.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/e-marshall/sentinel_rtc/main?urlpath=tree/asf_local_mf.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/e-marshall/sentinel_rtc"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/asf_local_mf.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#software-and-setup">
   Software and setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#read-in-files-using-xr-open-mfdataset">
   Read in files using
   <code class="docutils literal notranslate">
    <span class="pre">
     xr.open_mfdataset()
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#clip-stack-to-aoi">
     Clip stack to AOI
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#convert-from-power-to-db-scale">
   Convert from power to db scale
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Xarray open_mfdataset() approach</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#software-and-setup">
   Software and setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#read-in-files-using-xr-open-mfdataset">
   Read in files using
   <code class="docutils literal notranslate">
    <span class="pre">
     xr.open_mfdataset()
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#clip-stack-to-aoi">
     Clip stack to AOI
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#convert-from-power-to-db-scale">
   Convert from power to db scale
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="xarray-open-mfdataset-approach">
<h1>Xarray <code class="docutils literal notranslate"><span class="pre">open_mfdataset()</span></code> approach<a class="headerlink" href="#xarray-open-mfdataset-approach" title="Permalink to this headline">#</a></h1>
<p>This is a notebook demonstrates working with Sentinel-1 RTC imagery that has been processsed on the ASF On-Demand server and downloaded locally.</p>
<p>The access point for data in this notebook is a directory containing un-zipped directories of RTC scenes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>worth including image of directory structure here?</p>
</div>
<p>This tutorial contains examples of two approaches to working with locally-downloaded ASF-processed Sentinel-1 RTC imagery. This notebook will detail how to use the xarray function <code class="docutils literal notranslate"><span class="pre">.open_mfdataset()</span></code>. While this approach works and is very useful for working with large stacks of data with associated metadata, you will also see an example of the limitations of this approach due to certain characteristics of the dataset. You can read more about <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset()</span></code> <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.open_mfdataset.html">here</a>.</p>
<p><strong>Learning goals</strong>:</p>
<p>Handling large amounts of locally stored data</p>
<ul class="simple">
<li><p>organize large set of geotiff files stored locally</p></li>
<li><p>multiple methods for reading data into python as <code class="docutils literal notranslate"><span class="pre">xarray</span></code> objects</p>
<ul>
<li><p>xarray <code class="docutils literal notranslate"><span class="pre">open_mfdataset()</span></code></p></li>
</ul>
</li>
</ul>
<p><strong>NOTE</strong>: code for submitting HyP jobs still needs to be added back in</p>
<div class="section" id="software-and-setup">
<h2>Software and setup<a class="headerlink" href="#software-and-setup" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">rioxarray</span> <span class="k">as</span> <span class="nn">rio</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">dask</span>
</pre></div>
</div>
</div>
</div>
<p>We’ll use this function later but defining it now:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">points2coords</span><span class="p">(</span><span class="n">pt_ls</span><span class="p">):</span> <span class="c1">#should be [xmin, ymin, xmax, ymax]</span>
    
    <span class="n">coords_ls</span> <span class="o">=</span> <span class="p">[(</span><span class="n">pt_ls</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pt_ls</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">(</span><span class="n">pt_ls</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pt_ls</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
                 <span class="p">(</span><span class="n">pt_ls</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">pt_ls</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">(</span><span class="n">pt_ls</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">pt_ls</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                 <span class="p">(</span><span class="n">pt_ls</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pt_ls</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
    <span class="k">return</span> <span class="n">coords_ls</span>
    
</pre></div>
</div>
</div>
</div>
<p>Initialize a <code class="docutils literal notranslate"><span class="pre">dask.distributed</span></code> client:</p>
<div class="admonition-head-s-up admonition">
<p class="admonition-title">Head’s up! </p>
<p>On my local machine, I ran into issues initially when the cluster was running on processes rather than threads. This caused system memory issues and many dead kernels. Setting <code class="docutils literal notranslate"><span class="pre">processes=False</span></code> seemed to fix these issues</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dask.distributed</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">processes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1">#look into limiting memory</span>
<span class="n">client</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;"> </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px;">Client</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">Client-332f3686-3d5d-11ed-bd15-d88083ee7b7d</p>
        <table style="width: 100%; text-align: left;">

        <tr>

            <td style="text-align: left;"><strong>Connection method:</strong> Cluster object</td>
            <td style="text-align: left;"><strong>Cluster type:</strong> distributed.LocalCluster</td>

        </tr>


            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard: </strong> <a href="http://192.168.86.35:8787/status" target="_blank">http://192.168.86.35:8787/status</a>
                </td>
                <td style="text-align: left;"></td>
            </tr>


        </table>


            <details>
            <summary style="margin-bottom: 20px;"><h3 style="display: inline;">Cluster Info</h3></summary>
            <div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;">
    </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px; margin-top: 0px;">LocalCluster</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">6c76779a</p>
        <table style="width: 100%; text-align: left;">
            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard:</strong> <a href="http://192.168.86.35:8787/status" target="_blank">http://192.168.86.35:8787/status</a>
                </td>
                <td style="text-align: left;">
                    <strong>Workers:</strong> 1
                </td>
            </tr>
            <tr>
                <td style="text-align: left;">
                    <strong>Total threads:</strong> 16
                </td>
                <td style="text-align: left;">
                    <strong>Total memory:</strong> 14.96 GiB
                </td>
            </tr>

            <tr>
    <td style="text-align: left;"><strong>Status:</strong> running</td>
    <td style="text-align: left;"><strong>Using processes:</strong> False</td>
</tr>


        </table>

        <details>
            <summary style="margin-bottom: 20px;">
                <h3 style="display: inline;">Scheduler Info</h3>
            </summary>

            <div style="">
    <div>
        <div style="width: 24px; height: 24px; background-color: #FFF7E5; border: 3px solid #FF6132; border-radius: 5px; position: absolute;"> </div>
        <div style="margin-left: 48px;">
            <h3 style="margin-bottom: 0px;">Scheduler</h3>
            <p style="color: #9D9D9D; margin-bottom: 0px;">Scheduler-0e477d1b-ebce-4d89-aa1e-9b63c56de47d</p>
            <table style="width: 100%; text-align: left;">
                <tr>
                    <td style="text-align: left;">
                        <strong>Comm:</strong> inproc://192.168.86.35/392469/1
                    </td>
                    <td style="text-align: left;">
                        <strong>Workers:</strong> 1
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Dashboard:</strong> <a href="http://192.168.86.35:8787/status" target="_blank">http://192.168.86.35:8787/status</a>
                    </td>
                    <td style="text-align: left;">
                        <strong>Total threads:</strong> 16
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Started:</strong> Just now
                    </td>
                    <td style="text-align: left;">
                        <strong>Total memory:</strong> 14.96 GiB
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <details style="margin-left: 48px;">
        <summary style="margin-bottom: 20px;">
            <h3 style="display: inline;">Workers</h3>
        </summary>


        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 0</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> inproc://192.168.86.35/392469/4
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 16
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="http://192.168.86.35:45197/status" target="_blank">http://192.168.86.35:45197/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 14.96 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> None
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-worker-space/worker-1viyitiy
                        </td>
                    </tr>





                </table>
            </details>
            </div>
        </div>


    </details>
</div>

        </details>
    </div>
</div>
            </details>


    </div>
</div></div></div>
</div>
<p>Open the dask dashboard at the link above to monitor task progress.</p>
<p>Set up some string variables for directory paths. We need to pass <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset()</span></code> a list of all files to read in. Currently, the file structure is organized so that each scene has its own sub-directory within <code class="docutils literal notranslate"><span class="pre">unzipped_keep</span></code>. Within each sub-directory are several files - we want to extract the tif files containing RTC imagery for the VV and VH polarizations for each scene as well as the layover-shadow mask for each scene. The function <code class="docutils literal notranslate"><span class="pre">extract_tif_fnames()</span></code> takes a path to the directory containing the sub-directories for all scenes and returns a list of the filenames for VV-polarization tif files, VH-polarization tif files and layover-shadow mask tif files.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dir_path_all</span> <span class="o">=</span> <span class="s1">&#39;/home/emmamarshall/Desktop/siparcs/asf_rtc_data/unzipped_keep/&#39;</span> <span class="c1">#rename this</span>
<span class="n">scenes_ls</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dir_path_all</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">extract_tif_fnames</span><span class="p">(</span><span class="n">scene_path</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; return a list of files associated with a single S1 scene&#39;&#39;&#39;</span>
    <span class="n">scene_files_ls</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dir_path_all</span> <span class="o">+</span> <span class="n">scene_path</span><span class="p">)</span>
    
    <span class="n">scene_files_vv</span> <span class="o">=</span> <span class="p">[</span><span class="n">fname</span> <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">scene_files_ls</span> <span class="k">if</span> <span class="n">fname</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;_VH.tif&#39;</span><span class="p">)]</span>
    <span class="n">scene_files_vh</span> <span class="o">=</span> <span class="p">[</span><span class="n">fname</span> <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">scene_files_ls</span> <span class="k">if</span> <span class="n">fname</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;_VV.tif&#39;</span><span class="p">)]</span>
    <span class="n">scene_files_ls</span> <span class="o">=</span> <span class="p">[</span><span class="n">fname</span> <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">scene_files_ls</span> <span class="k">if</span> <span class="n">fname</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;_ls_map.tif&#39;</span><span class="p">)]</span>
    
    <span class="k">return</span> <span class="n">scene_files_vv</span><span class="p">,</span> <span class="n">scene_files_vh</span><span class="p">,</span> <span class="n">scene_files_ls</span>
</pre></div>
</div>
</div>
</div>
<p>Now we need to attach the filenames to the full path to each file. We will end up with a list of full paths to all three tif files for each scene in the stack.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fpaths_vv</span><span class="p">,</span> <span class="n">fpaths_vh</span><span class="p">,</span> <span class="n">fpaths_ls</span> <span class="o">=</span> <span class="p">[],[],[]</span>

<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">scenes_ls</span><span class="p">)):</span>
    
    <span class="n">good_files</span> <span class="o">=</span> <span class="n">extract_tif_fnames</span><span class="p">(</span><span class="n">scenes_ls</span><span class="p">[</span><span class="n">element</span><span class="p">])</span>
    
    <span class="n">path_vh</span> <span class="o">=</span> <span class="n">dir_path_all</span> <span class="o">+</span> <span class="n">scenes_ls</span><span class="p">[</span><span class="n">element</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">good_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">path_vv</span> <span class="o">=</span> <span class="n">dir_path_all</span> <span class="o">+</span> <span class="n">scenes_ls</span><span class="p">[</span><span class="n">element</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">good_files</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">path_ls</span> <span class="o">=</span> <span class="n">dir_path_all</span> <span class="o">+</span> <span class="n">scenes_ls</span><span class="p">[</span><span class="n">element</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">good_files</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="n">fpaths_vv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path_vv</span><span class="p">)</span>
    <span class="n">fpaths_vh</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path_vh</span><span class="p">)</span>
    <span class="n">fpaths_ls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path_ls</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="read-in-files-using-xr-open-mfdataset">
<h2>Read in files using <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset()</span></code><a class="headerlink" href="#read-in-files-using-xr-open-mfdataset" title="Permalink to this headline">#</a></h2>
<p>The xarray <code class="docutils literal notranslate"><span class="pre">open_mfdataset()</span></code> function reads multiple files (in a directory or from a list) and combines them to return a single <code class="docutils literal notranslate"><span class="pre">xr.Dataset</span></code> or <code class="docutils literal notranslate"><span class="pre">xr.DataArray</span></code>. To use the function, specify paramters such as how the files should be combined as well as any preprocessing to execute on the original files. This example will demonstrate a workflow for using <code class="docutils literal notranslate"><span class="pre">open_mfdataset()</span></code> to read in three stacks of roughly 100 RTC images.</p>
<p><code class="docutils literal notranslate"><span class="pre">preprocess_vv</span></code>, <code class="docutils literal notranslate"><span class="pre">preprocess_vh</span></code>  and <code class="docutils literal notranslate"><span class="pre">preprocess_ls</span></code> are identical but for vv and vh bands (read from different tif files). <code class="docutils literal notranslate"><span class="pre">preprocess_ls</span></code> reads in the layover shadow masks that are provided with each scene and similarly stored as tiff files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>can the preprocess fn take input parameters in addition to the ds? if so consider combining these into one preprocess function with an input parameter for variable (VV, VH, LS)?</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">preprocess_vv</span><span class="p">(</span><span class="n">da_orig</span><span class="p">):</span>
<span class="c1">#def preprocess(da_orig, var_name):</span>
    <span class="sd">&#39;&#39;&#39;function that should return an xarray object with time dimension and associated metadata given a path to a single RTC scene, if its dualpol will have multiple bands, currently just as 2 data arrays but could merge.</span>
<span class="sd">    goal would be to apply this a list of directories for different RTC products, return cube along time dimension - I think? </span>
<span class="sd">    - for concatenating, would need to check footprints and only take products with the same footprint, or subset them all to a common AOI? &#39;&#39;&#39;</span>

    
    <span class="n">da</span> <span class="o">=</span> <span class="n">da_orig</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;band_data&#39;</span><span class="p">:</span><span class="s1">&#39;vv&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
    <span class="c1">#da = da.rename({&#39;band_data&#39;:f&#39;{var_name}&#39;}).squeeze()</span>
    
    <span class="c1">#we want to extract important metadata from the tif filenames</span>
    <span class="c1">#use the &#39;source&#39; key from the encoding dictionary to attach the filename</span>
    <span class="n">vv_fn</span> <span class="o">=</span> <span class="n">da_orig</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">][</span><span class="mi">113</span><span class="p">:]</span>
    
    <span class="c1">#extract relevant metadata</span>
    <span class="n">sensor</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">beam_mode</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">acq_date_raw</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="c1">#need to parse further</span>
    <span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">acq_date_raw</span><span class="p">,</span> <span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">acq_time</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">22</span><span class="p">]</span>
    <span class="n">pol_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">24</span><span class="p">:</span><span class="mi">25</span><span class="p">]</span> <span class="c1"># dual pol ...</span>
    <span class="n">primary_pol</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">25</span><span class="p">:</span><span class="mi">26</span><span class="p">]</span> <span class="c1"># VV ...</span>
    <span class="n">orbit_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">26</span><span class="p">:</span><span class="mi">27</span><span class="p">]</span> <span class="c1">#Precise (P), Restituted (R), or Original Predicted (O)</span>
    <span class="n">terrain_correction_pixel_spacing</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">27</span><span class="p">:</span><span class="mi">32</span><span class="p">]</span> <span class="c1">#Terrain Correction Pixel Spacing</span>
    <span class="n">rtc_alg</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">33</span><span class="p">:</span><span class="mi">34</span><span class="p">]</span> <span class="c1">#Software Package Used: GAMMA (G)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">35</span><span class="p">]</span> <span class="c1">#  Gamma-0 (g) or Sigma-0 (s) Output</span>
    <span class="n">output_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">36</span><span class="p">]</span> <span class="c1">#Power (p) or Decibel (d) or Amplitude (a) Output</span>
    <span class="n">masked</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">37</span><span class="p">]</span>  <span class="c1">#Unmasked (u) or Water Masked (w)</span>
    <span class="n">filtered</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">38</span><span class="p">]</span>  <span class="c1"># Not Filtered (n) or Filtered (f)</span>
    <span class="n">area</span> <span class="o">=</span>  <span class="n">vv_fn</span><span class="p">[</span><span class="mi">39</span><span class="p">]</span>       <span class="c1"># Entire Area (e) or Clipped Area (c)</span>
    <span class="n">tbd</span> <span class="o">=</span>   <span class="n">vv_fn</span><span class="p">[</span><span class="mi">40</span><span class="p">]</span>   <span class="c1">#Dead Reckoning (d) or DEM Matching (m)</span>
    <span class="n">product_id</span>  <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">42</span><span class="p">:</span><span class="mi">46</span><span class="p">]</span>  <span class="c1">#Product ID</span>
    
    <span class="c1">#combine metadata into dictionary that will be used to assign attrs</span>
    <span class="n">attrs_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;sensor&#39;</span><span class="p">:</span> <span class="n">sensor</span><span class="p">,</span>
                    <span class="s1">&#39;beam_mode&#39;</span><span class="p">:</span><span class="n">beam_mode</span><span class="p">,</span> 
                    <span class="s1">&#39;acquisition_date&#39;</span> <span class="p">:</span> <span class="n">acq_date</span><span class="p">,</span>
                    <span class="s1">&#39;acquisition_time&#39;</span><span class="p">:</span> <span class="n">acq_time</span><span class="p">,</span>
                    <span class="s1">&#39;polarisation_type&#39;</span><span class="p">:</span> <span class="n">pol_type</span><span class="p">,</span>
                    <span class="s1">&#39;primary_polarisation&#39;</span><span class="p">:</span> <span class="n">primary_pol</span><span class="p">,</span>
                    <span class="s1">&#39;orbit_type&#39;</span><span class="p">:</span> <span class="n">orbit_type</span><span class="p">,</span>
                    <span class="s1">&#39;terrain_correction_pixel_spacing&#39;</span> <span class="p">:</span> <span class="n">terrain_correction_pixel_spacing</span><span class="p">,</span>
                    <span class="s1">&#39;output_format&#39;</span><span class="p">:</span> <span class="n">output</span><span class="p">,</span>
                    <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="n">output_type</span><span class="p">,</span>
                    <span class="s1">&#39;masked&#39;</span> <span class="p">:</span> <span class="n">masked</span><span class="p">,</span>
                    <span class="s1">&#39;filtered&#39;</span><span class="p">:</span><span class="n">filtered</span><span class="p">,</span>
                    <span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="n">area</span><span class="p">,</span>
                    <span class="s1">&#39;product_id&#39;</span><span class="p">:</span> <span class="n">product_id</span> 
             <span class="p">}</span>
                    
    <span class="c1">#link the strings for each of the above variables to their full names (from README, commented above)</span>
    <span class="c1">#eg if output_type=g, should read &#39;gamma&#39;</span>
    <span class="c1">#add these as attrs to xr obj, make into dict first? </span>
    <span class="c1"># parse acq_date to datetime, add as dim and coordinate to xr obj</span>
    <span class="c1">#add other metadata vars as attributes to xr obj</span>
    
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">attrs_dict</span>
    
    <span class="n">utm_zone</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">spatial_ref</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;crs_wkt&#39;</span><span class="p">][</span><span class="mi">17</span><span class="p">:</span><span class="mi">29</span><span class="p">]</span>
    <span class="n">epsg_code</span> <span class="o">=</span><span class="n">da</span><span class="o">.</span><span class="n">spatial_ref</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;crs_wkt&#39;</span><span class="p">][</span><span class="mi">589</span><span class="p">:</span><span class="mi">594</span><span class="p">]</span>
    
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;utm_zone&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utm_zone</span>
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;epsg_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;EPSG:</span><span class="si">{</span><span class="n">epsg_code</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="n">date</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;acquisition_date&#39;</span><span class="p">]</span>
    
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">({</span><span class="s1">&#39;acq_date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="s1">&#39;acq_date&#39;</span><span class="p">)</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">da</span>
</pre></div>
</div>
</div>
</div>
<p>Repeat for the other two variables (unless these can be combined into one preprocess?)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">preprocess_vh</span><span class="p">(</span><span class="n">da_orig</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;function that should return an xarray object with time dimension and associated metadata given a path to a single RTC scene, if its dualpol will have multiple bands, currently just as 2 data arrays but could merge.</span>
<span class="sd">    goal would be to apply this a list of directories for different RTC products, return cube along time dimension - I think? </span>
<span class="sd">    - for concatenating, would need to check footprints and only take products with the same footprint, or subset them all to a common AOI? &#39;&#39;&#39;</span>

    
    <span class="n">da</span> <span class="o">=</span> <span class="n">da_orig</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;band_data&#39;</span><span class="p">:</span><span class="s1">&#39;vh&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
   
    <span class="n">vv_fn</span> <span class="o">=</span> <span class="n">da_orig</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">][</span><span class="mi">113</span><span class="p">:]</span>
    
    <span class="n">sensor</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">beam_mode</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">acq_date_raw</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="c1">#need to parse further</span>
    <span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">acq_date_raw</span><span class="p">,</span> <span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">acq_time</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">22</span><span class="p">]</span>
    <span class="n">pol_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">24</span><span class="p">:</span><span class="mi">25</span><span class="p">]</span> <span class="c1"># dual pol ...</span>
    <span class="n">primary_pol</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">25</span><span class="p">:</span><span class="mi">26</span><span class="p">]</span> <span class="c1"># VV ...</span>
    <span class="n">orbit_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">26</span><span class="p">:</span><span class="mi">27</span><span class="p">]</span> <span class="c1">#Precise (P), Restituted (R), or Original Predicted (O)</span>
    <span class="n">terrain_correction_pixel_spacing</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">27</span><span class="p">:</span><span class="mi">32</span><span class="p">]</span> <span class="c1">#Terrain Correction Pixel Spacing</span>
    <span class="n">rtc_alg</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">33</span><span class="p">:</span><span class="mi">34</span><span class="p">]</span> <span class="c1">#Software Package Used: GAMMA (G)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">35</span><span class="p">]</span> <span class="c1">#  Gamma-0 (g) or Sigma-0 (s) Output</span>
    <span class="n">output_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">36</span><span class="p">]</span> <span class="c1">#Power (p) or Decibel (d) or Amplitude (a) Output</span>
    <span class="n">masked</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">37</span><span class="p">]</span>  <span class="c1">#Unmasked (u) or Water Masked (w)</span>
    <span class="n">filtered</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">38</span><span class="p">]</span>  <span class="c1"># Not Filtered (n) or Filtered (f)</span>
    <span class="n">area</span> <span class="o">=</span>  <span class="n">vv_fn</span><span class="p">[</span><span class="mi">39</span><span class="p">]</span>       <span class="c1"># Entire Area (e) or Clipped Area (c)</span>
    <span class="n">tbd</span> <span class="o">=</span>   <span class="n">vv_fn</span><span class="p">[</span><span class="mi">40</span><span class="p">]</span>   <span class="c1">#Dead Reckoning (d) or DEM Matching (m)</span>
    <span class="n">product_id</span>  <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">42</span><span class="p">:</span><span class="mi">46</span><span class="p">]</span>  <span class="c1">#Product ID</span>
    
    <span class="n">attrs_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;sensor&#39;</span><span class="p">:</span> <span class="n">sensor</span><span class="p">,</span>
                    <span class="s1">&#39;beam_mode&#39;</span><span class="p">:</span><span class="n">beam_mode</span><span class="p">,</span> 
                    <span class="s1">&#39;acquisition_date&#39;</span> <span class="p">:</span> <span class="n">acq_date</span><span class="p">,</span>
                    <span class="s1">&#39;acquisition_time&#39;</span><span class="p">:</span> <span class="n">acq_time</span><span class="p">,</span>
                    <span class="s1">&#39;polarisation_type&#39;</span><span class="p">:</span> <span class="n">pol_type</span><span class="p">,</span>
                    <span class="s1">&#39;primary_polarisation&#39;</span><span class="p">:</span> <span class="n">primary_pol</span><span class="p">,</span>
                    <span class="s1">&#39;orbit_type&#39;</span><span class="p">:</span> <span class="n">orbit_type</span><span class="p">,</span>
                    <span class="s1">&#39;terrain_correction_pixel_spacing&#39;</span> <span class="p">:</span> <span class="n">terrain_correction_pixel_spacing</span><span class="p">,</span>
                    <span class="s1">&#39;output_format&#39;</span><span class="p">:</span> <span class="n">output</span><span class="p">,</span>
                    <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="n">output_type</span><span class="p">,</span>
                    <span class="s1">&#39;masked&#39;</span> <span class="p">:</span> <span class="n">masked</span><span class="p">,</span>
                    <span class="s1">&#39;filtered&#39;</span><span class="p">:</span><span class="n">filtered</span><span class="p">,</span>
                    <span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="n">area</span><span class="p">,</span>
                    <span class="s1">&#39;product_id&#39;</span><span class="p">:</span> <span class="n">product_id</span> 
             <span class="p">}</span>
                    
    <span class="c1">#link the strings for each of the above variables to their full names (from README, commented above)</span>
    <span class="c1">#eg if output_type=g, should read &#39;gamma&#39;</span>
    <span class="c1">#add these as attrs to xr obj, make into dict first? </span>
    <span class="c1"># parse acq_date to datetime, add as dim and coordinate to xr obj</span>
    <span class="c1">#add other metadata vars as attributes to xr obj</span>
    
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">attrs_dict</span>
    
    <span class="n">utm_zone</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">spatial_ref</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;crs_wkt&#39;</span><span class="p">][</span><span class="mi">17</span><span class="p">:</span><span class="mi">29</span><span class="p">]</span>
    <span class="n">epsg_code</span> <span class="o">=</span><span class="n">da</span><span class="o">.</span><span class="n">spatial_ref</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;crs_wkt&#39;</span><span class="p">][</span><span class="mi">589</span><span class="p">:</span><span class="mi">594</span><span class="p">]</span>
    
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;utm_zone&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utm_zone</span>
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;epsg_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;EPSG:</span><span class="si">{</span><span class="n">epsg_code</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="n">date</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;acquisition_date&#39;</span><span class="p">]</span>
    
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">({</span><span class="s1">&#39;acq_date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="s1">&#39;acq_date&#39;</span><span class="p">)</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">da</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">preprocess_ls</span><span class="p">(</span><span class="n">da_orig</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;function that should return an xarray object with time dimension and associated metadata given a path to a single RTC scene, if its dualpol will have multiple bands, currently just as 2 data arrays but could merge.</span>
<span class="sd">    goal would be to apply this a list of directories for different RTC products, return cube along time dimension - I think? </span>
<span class="sd">    - for concatenating, would need to check footprints and only take products with the same footprint, or subset them all to a common AOI? &#39;&#39;&#39;</span>

    
    <span class="n">da</span> <span class="o">=</span> <span class="n">da_orig</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;band_data&#39;</span><span class="p">:</span><span class="s1">&#39;layover_shadow_mask&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
    
    <span class="n">vv_fn</span> <span class="o">=</span> <span class="n">da_orig</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">][</span><span class="mi">113</span><span class="p">:]</span>
    
    <span class="n">sensor</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">beam_mode</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">acq_date_raw</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="c1">#need to parse further</span>
    <span class="n">acq_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">acq_date_raw</span><span class="p">,</span> <span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">acq_time</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">22</span><span class="p">]</span>
    <span class="n">pol_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">24</span><span class="p">:</span><span class="mi">25</span><span class="p">]</span> <span class="c1"># dual pol ...</span>
    <span class="n">primary_pol</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">25</span><span class="p">:</span><span class="mi">26</span><span class="p">]</span> <span class="c1"># VV ...</span>
    <span class="n">orbit_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">26</span><span class="p">:</span><span class="mi">27</span><span class="p">]</span> <span class="c1">#Precise (P), Restituted (R), or Original Predicted (O)</span>
    <span class="n">terrain_correction_pixel_spacing</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">27</span><span class="p">:</span><span class="mi">32</span><span class="p">]</span> <span class="c1">#Terrain Correction Pixel Spacing</span>
    <span class="n">rtc_alg</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">33</span><span class="p">:</span><span class="mi">34</span><span class="p">]</span> <span class="c1">#Software Package Used: GAMMA (G)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">35</span><span class="p">]</span> <span class="c1">#  Gamma-0 (g) or Sigma-0 (s) Output</span>
    <span class="n">output_type</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">36</span><span class="p">]</span> <span class="c1">#Power (p) or Decibel (d) or Amplitude (a) Output</span>
    <span class="n">masked</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">37</span><span class="p">]</span>  <span class="c1">#Unmasked (u) or Water Masked (w)</span>
    <span class="n">filtered</span> <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">38</span><span class="p">]</span>  <span class="c1"># Not Filtered (n) or Filtered (f)</span>
    <span class="n">area</span> <span class="o">=</span>  <span class="n">vv_fn</span><span class="p">[</span><span class="mi">39</span><span class="p">]</span>       <span class="c1"># Entire Area (e) or Clipped Area (c)</span>
    <span class="n">tbd</span> <span class="o">=</span>   <span class="n">vv_fn</span><span class="p">[</span><span class="mi">40</span><span class="p">]</span>   <span class="c1">#Dead Reckoning (d) or DEM Matching (m)</span>
    <span class="n">product_id</span>  <span class="o">=</span> <span class="n">vv_fn</span><span class="p">[</span><span class="mi">42</span><span class="p">:</span><span class="mi">46</span><span class="p">]</span>  <span class="c1">#Product ID</span>
    
    <span class="n">attrs_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;sensor&#39;</span><span class="p">:</span> <span class="n">sensor</span><span class="p">,</span>
                    <span class="s1">&#39;beam_mode&#39;</span><span class="p">:</span><span class="n">beam_mode</span><span class="p">,</span> 
                    <span class="s1">&#39;acquisition_date&#39;</span> <span class="p">:</span> <span class="n">acq_date</span><span class="p">,</span>
                    <span class="s1">&#39;acquisition_time&#39;</span><span class="p">:</span> <span class="n">acq_time</span><span class="p">,</span>
                    <span class="s1">&#39;polarisation_type&#39;</span><span class="p">:</span> <span class="n">pol_type</span><span class="p">,</span>
                    <span class="s1">&#39;primary_polarisation&#39;</span><span class="p">:</span> <span class="n">primary_pol</span><span class="p">,</span>
                    <span class="s1">&#39;orbit_type&#39;</span><span class="p">:</span> <span class="n">orbit_type</span><span class="p">,</span>
                    <span class="s1">&#39;terrain_correction_pixel_spacing&#39;</span> <span class="p">:</span> <span class="n">terrain_correction_pixel_spacing</span><span class="p">,</span>
                    <span class="s1">&#39;output_format&#39;</span><span class="p">:</span> <span class="n">output</span><span class="p">,</span>
                    <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="n">output_type</span><span class="p">,</span>
                    <span class="s1">&#39;masked&#39;</span> <span class="p">:</span> <span class="n">masked</span><span class="p">,</span>
                    <span class="s1">&#39;filtered&#39;</span><span class="p">:</span><span class="n">filtered</span><span class="p">,</span>
                    <span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="n">area</span><span class="p">,</span>
                    <span class="s1">&#39;product_id&#39;</span><span class="p">:</span> <span class="n">product_id</span> 
             <span class="p">}</span>
                    
    <span class="c1">#link the strings for each of the above variables to their full names (from README, commented above)</span>
    <span class="c1">#eg if output_type=g, should read &#39;gamma&#39;</span>
    <span class="c1">#add these as attrs to xr obj, make into dict first? </span>
    <span class="c1"># parse acq_date to datetime, add as dim and coordinate to xr obj</span>
    <span class="c1">#add other metadata vars as attributes to xr obj</span>
    
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span> <span class="o">=</span> <span class="n">attrs_dict</span>
    
    <span class="n">utm_zone</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">spatial_ref</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;crs_wkt&#39;</span><span class="p">][</span><span class="mi">17</span><span class="p">:</span><span class="mi">29</span><span class="p">]</span>
    <span class="n">epsg_code</span> <span class="o">=</span><span class="n">da</span><span class="o">.</span><span class="n">spatial_ref</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;crs_wkt&#39;</span><span class="p">][</span><span class="mi">589</span><span class="p">:</span><span class="mi">594</span><span class="p">]</span>
    
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;utm_zone&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utm_zone</span>
    <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;epsg_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;EPSG:</span><span class="si">{</span><span class="n">epsg_code</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="n">date</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;acquisition_date&#39;</span><span class="p">]</span>
    
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">({</span><span class="s1">&#39;acq_date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="s1">&#39;acq_date&#39;</span><span class="p">)</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
    
    <span class="c1">#vec = gpd.read_file(&#39;https://github.com/e-marshall/s1_book/raw/main/data/hma_lakes_aoi.geojson&#39;)</span>
    <span class="c1">#print(vec.crs)</span>
    <span class="c1">#da_clip = da.rio.clip(vec.geometry, vec.crs, drop=True)</span>
    <span class="c1">#print(da_clip.crs)</span>
    
    <span class="k">return</span> <span class="n">da</span>
</pre></div>
</div>
</div>
</div>
<p>First, let’s call <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset()</span></code> with the argument <code class="docutils literal notranslate"><span class="pre">chunks='auto'</span></code>. This will read in a dask array where ideal chunk sizes are selected based off the array size, it will attempt to have chunk sizes where bytes are equal to the configuration value for array chunk size. More about that <a class="reference external" href="https://docs.dask.org/en/stable/array-chunks.html#automatic-chunking">here</a>.You can check the configuration value for an array chunk size with the code below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dask</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;array.chunk-size&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;128MiB&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_vh</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">paths</span> <span class="o">=</span> <span class="n">fpaths_vh</span><span class="p">,</span> <span class="n">preprocess</span> <span class="o">=</span> <span class="n">preprocess</span><span class="p">,</span> <span class="n">chunks</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;rasterio&#39;</span><span class="p">,</span> <span class="n">data_vars</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="s1">&#39;acq_date&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [10],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_vh</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">paths</span> <span class="o">=</span> <span class="n">fpaths_vh</span><span class="p">,</span> <span class="n">preprocess</span> <span class="o">=</span> <span class="n">preprocess</span><span class="p">,</span> <span class="n">chunks</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;rasterio&#39;</span><span class="p">,</span> <span class="n">data_vars</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="s1">&#39;acq_date&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;preprocess&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_vh</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [11],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_vh</span>

<span class="ne">NameError</span>: name &#39;asf_vh&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>If we take a look at the <code class="docutils literal notranslate"><span class="pre">asf_vh</span></code> object we just created (click the stack icon on the right of the <code class="docutils literal notranslate"><span class="pre">vh</span></code> variable tab), we see that the chunking is quite complicated. This isn’t ideal because it can create problems like excessive communication between workers (?) (and a lot of memory usage) down the line when we perform non-lazy operations. It seems like the <code class="docutils literal notranslate"><span class="pre">'auto'</span></code> chunking is applied to the top layer (file) of the dataset, but because the spatial footprint of each file is not the same, the ‘auto’ chunking does not persist through layers and we end up with the funky layout in the object above.</p>
<p>Let’s create both the VV and VH objects with <code class="docutils literal notranslate"><span class="pre">chunks=None</span></code> and see how it looks:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_vh</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">paths</span> <span class="o">=</span> <span class="n">fpaths_vh</span><span class="p">,</span> <span class="n">preprocess</span> <span class="o">=</span> <span class="n">preprocess_vh</span><span class="p">,</span> <span class="n">chunks</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;rasterio&#39;</span><span class="p">,</span> <span class="n">data_vars</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="s1">&#39;acq_date&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_vv</span><span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">paths</span> <span class="o">=</span> <span class="n">fpaths_vv</span><span class="p">,</span> <span class="n">preprocess</span> <span class="o">=</span> <span class="n">preprocess_vv</span><span class="p">,</span> <span class="n">chunks</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;rasterio&#39;</span><span class="p">,</span> <span class="n">data_vars</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="s1">&#39;acq_date&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_ls</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">paths</span> <span class="o">=</span> <span class="n">fpaths_ls</span><span class="p">,</span> <span class="n">preprocess</span> <span class="o">=</span> <span class="n">preprocess_ls</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;rasterio&#39;</span><span class="p">,</span> <span class="n">data_vars</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">,</span> <span class="n">concat_dim</span> <span class="o">=</span> <span class="s1">&#39;acq_date&#39;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;nested&#39;</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now our chunks are quite large, but they are at least in a format that makes more sense for our dataset. This will make it easier to clip the object to our area of interest, which will solve the problem of large chunks</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_vv</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:      (x: 17452, y: 13379, acq_date: 103)
Coordinates:
  * x            (x) float64 3.833e+05 3.833e+05 ... 9.068e+05 9.068e+05
  * y            (y) float64 2.907e+06 2.907e+06 ... 3.309e+06 3.309e+06
  * acq_date     (acq_date) datetime64[ns] 2021-08-21 2022-01-16 ... 2022-04-06
    band         int64 1
    spatial_ref  int64 0
Data variables:
    vv           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;
Attributes: (12/16)
    sensor:                            S1A
    beam_mode:                         IW
    acquisition_date:                  2021-08-21 00:00:00
    acquisition_time:                  T000314
    polarisation_type:                 V
    primary_polarisation:              P
    ...                                ...
    masked:                            u
    filtered:                          n
    area:                              e
    product_id:                        748F
    utm_zone:                          UTM zone 45N
    epsg_code:                         EPSG:32645</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-0e1c18ad-c963-4ecc-ab30-7b9da0220434' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-0e1c18ad-c963-4ecc-ab30-7b9da0220434' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 17452</li><li><span class='xr-has-index'>y</span>: 13379</li><li><span class='xr-has-index'>acq_date</span>: 103</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-04602071-3f47-43cd-8dc7-b219caa1061a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-04602071-3f47-43cd-8dc7-b219caa1061a' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.833e+05 3.833e+05 ... 9.068e+05</div><input id='attrs-8592308d-4822-48d4-ac7d-05148a3433db' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8592308d-4822-48d4-ac7d-05148a3433db' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bf230f18-f171-4a77-acd6-3ed6e5cfa783' class='xr-var-data-in' type='checkbox'><label for='data-bf230f18-f171-4a77-acd6-3ed6e5cfa783' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([383265., 383295., 383325., ..., 906735., 906765., 906795.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.907e+06 2.907e+06 ... 3.309e+06</div><input id='attrs-54cd1985-a4ce-4ec7-a8e2-4fae2fa0edb1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-54cd1985-a4ce-4ec7-a8e2-4fae2fa0edb1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a7d489a2-08fd-41b0-bd5f-dbdfcfc8b6cd' class='xr-var-data-in' type='checkbox'><label for='data-a7d489a2-08fd-41b0-bd5f-dbdfcfc8b6cd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([2907375., 2907405., 2907435., ..., 3308655., 3308685., 3308715.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>acq_date</span></div><div class='xr-var-dims'>(acq_date)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2021-08-21 ... 2022-04-06</div><input id='attrs-f057ae3d-3a61-4f32-bc9a-43f11ecf4fa8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f057ae3d-3a61-4f32-bc9a-43f11ecf4fa8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a02a37a6-8c52-466f-a3d5-4d0414d1aeb5' class='xr-var-data-in' type='checkbox'><label for='data-a02a37a6-8c52-466f-a3d5-4d0414d1aeb5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2021-08-21T00:00:00.000000000&#x27;, &#x27;2022-01-16T00:00:00.000000000&#x27;,
       &#x27;2021-07-08T00:00:00.000000000&#x27;, &#x27;2022-04-22T00:00:00.000000000&#x27;,
       &#x27;2022-04-27T00:00:00.000000000&#x27;, &#x27;2022-04-10T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2021-08-09T00:00:00.000000000&#x27;,
       &#x27;2021-09-26T00:00:00.000000000&#x27;, &#x27;2021-05-02T00:00:00.000000000&#x27;,
       &#x27;2021-12-28T00:00:00.000000000&#x27;, &#x27;2021-07-28T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2022-04-30T00:00:00.000000000&#x27;,
       &#x27;2021-05-21T00:00:00.000000000&#x27;, &#x27;2021-11-13T00:00:00.000000000&#x27;,
       &#x27;2021-06-02T00:00:00.000000000&#x27;, &#x27;2022-05-21T00:00:00.000000000&#x27;,
       &#x27;2021-12-19T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-23T00:00:00.000000000&#x27;, &#x27;2022-02-09T00:00:00.000000000&#x27;,
       &#x27;2021-12-07T00:00:00.000000000&#x27;, &#x27;2022-03-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-20T00:00:00.000000000&#x27;, &#x27;2021-11-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-02-05T00:00:00.000000000&#x27;, &#x27;2022-03-22T00:00:00.000000000&#x27;,
       &#x27;2022-02-17T00:00:00.000000000&#x27;, &#x27;2022-01-21T00:00:00.000000000&#x27;,
       &#x27;2021-11-22T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-04T00:00:00.000000000&#x27;, &#x27;2022-05-04T00:00:00.000000000&#x27;,
       &#x27;2021-09-14T00:00:00.000000000&#x27;, &#x27;2021-11-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;,
       &#x27;2021-05-26T00:00:00.000000000&#x27;, &#x27;2021-08-30T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-08-25T00:00:00.000000000&#x27;,
       &#x27;2021-08-06T00:00:00.000000000&#x27;, &#x27;2022-02-14T00:00:00.000000000&#x27;,
       &#x27;2021-08-13T00:00:00.000000000&#x27;, &#x27;2021-06-10T00:00:00.000000000&#x27;,
       &#x27;2021-06-26T00:00:00.000000000&#x27;, &#x27;2022-02-02T00:00:00.000000000&#x27;,
       &#x27;2021-09-30T00:00:00.000000000&#x27;, &#x27;2022-02-26T00:00:00.000000000&#x27;,
       &#x27;2021-11-01T00:00:00.000000000&#x27;, &#x27;2021-06-19T00:00:00.000000000&#x27;,
       &#x27;2021-05-17T00:00:00.000000000&#x27;, &#x27;2022-03-05T00:00:00.000000000&#x27;,
       &#x27;2022-03-10T00:00:00.000000000&#x27;, &#x27;2021-08-18T00:00:00.000000000&#x27;,
       &#x27;2022-04-15T00:00:00.000000000&#x27;, &#x27;2021-05-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-05T00:00:00.000000000&#x27;, &#x27;2021-05-05T00:00:00.000000000&#x27;,
       &#x27;2021-09-18T00:00:00.000000000&#x27;, &#x27;2021-10-17T00:00:00.000000000&#x27;,
       &#x27;2021-07-16T00:00:00.000000000&#x27;, &#x27;2022-01-28T00:00:00.000000000&#x27;,
       &#x27;2021-11-05T00:00:00.000000000&#x27;, &#x27;2021-10-12T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2021-09-11T00:00:00.000000000&#x27;,
       &#x27;2021-09-02T00:00:00.000000000&#x27;, &#x27;2021-06-14T00:00:00.000000000&#x27;,
       &#x27;2021-11-10T00:00:00.000000000&#x27;, &#x27;2021-07-04T00:00:00.000000000&#x27;,
       &#x27;2021-06-22T00:00:00.000000000&#x27;, &#x27;2022-01-04T00:00:00.000000000&#x27;,
       &#x27;2022-03-29T00:00:00.000000000&#x27;, &#x27;2022-02-21T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-09-06T00:00:00.000000000&#x27;,
       &#x27;2022-03-17T00:00:00.000000000&#x27;, &#x27;2021-10-08T00:00:00.000000000&#x27;,
       &#x27;2021-09-23T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2022-04-18T00:00:00.000000000&#x27;, &#x27;2022-01-24T00:00:00.000000000&#x27;,
       &#x27;2021-10-20T00:00:00.000000000&#x27;, &#x27;2022-01-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-24T00:00:00.000000000&#x27;, &#x27;2021-12-16T00:00:00.000000000&#x27;,
       &#x27;2021-11-17T00:00:00.000000000&#x27;, &#x27;2021-12-11T00:00:00.000000000&#x27;,
       &#x27;2022-05-16T00:00:00.000000000&#x27;, &#x27;2021-08-01T00:00:00.000000000&#x27;,
       &#x27;2022-05-09T00:00:00.000000000&#x27;, &#x27;2021-06-07T00:00:00.000000000&#x27;,
       &#x27;2021-07-25T00:00:00.000000000&#x27;, &#x27;2021-05-29T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-01-12T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-10-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-06T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-e1951ebb-53d6-49b1-8d6e-fcc2c4ba4baa' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e1951ebb-53d6-49b1-8d6e-fcc2c4ba4baa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2ebdbcc8-80f4-41de-b086-2de36ac47c41' class='xr-var-data-in' type='checkbox'><label for='data-2ebdbcc8-80f4-41de-b086-2de36ac47c41' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(1)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-a2619dbe-c37c-4bbe-99c4-05cf082f859c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a2619dbe-c37c-4bbe-99c4-05cf082f859c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1402239d-3aa2-434a-b035-0df484e24583' class='xr-var-data-in' type='checkbox'><label for='data-1402239d-3aa2-434a-b035-0df484e24583' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / UTM zone 45N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>87.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>519570.0 30.0 0.0 3200520.0 0.0 -30.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-23044dcb-c7c0-45e9-bb58-b10007e96e4f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-23044dcb-c7c0-45e9-bb58-b10007e96e4f' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>vv</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-537afe2a-03af-49a5-9eac-b0fba73fa301' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-537afe2a-03af-49a5-9eac-b0fba73fa301' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9f5b64a1-b1c4-45e4-b976-ef2f9852d1f5' class='xr-var-data-in' type='checkbox'><label for='data-9f5b64a1-b1c4-45e4-b976-ef2f9852d1f5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1186 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-b9a0cbf4-52d3-415d-a5bd-e2a2ad3462cf' class='xr-section-summary-in' type='checkbox'  ><label for='section-b9a0cbf4-52d3-415d-a5bd-e2a2ad3462cf' class='xr-section-summary' >Attributes: <span>(16)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>sensor :</span></dt><dd>S1A</dd><dt><span>beam_mode :</span></dt><dd>IW</dd><dt><span>acquisition_date :</span></dt><dd>2021-08-21 00:00:00</dd><dt><span>acquisition_time :</span></dt><dd>T000314</dd><dt><span>polarisation_type :</span></dt><dd>V</dd><dt><span>primary_polarisation :</span></dt><dd>P</dd><dt><span>orbit_type :</span></dt><dd>_</dd><dt><span>terrain_correction_pixel_spacing :</span></dt><dd>RTC30</dd><dt><span>output_format :</span></dt><dd>g</dd><dt><span>output_type :</span></dt><dd>p</dd><dt><span>masked :</span></dt><dd>u</dd><dt><span>filtered :</span></dt><dd>n</dd><dt><span>area :</span></dt><dd>e</dd><dt><span>product_id :</span></dt><dd>748F</dd><dt><span>utm_zone :</span></dt><dd>UTM zone 45N</dd><dt><span>epsg_code :</span></dt><dd>EPSG:32645</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_vh</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:      (x: 17452, y: 13379, acq_date: 103)
Coordinates:
  * x            (x) float64 3.833e+05 3.833e+05 ... 9.068e+05 9.068e+05
  * y            (y) float64 2.907e+06 2.907e+06 ... 3.309e+06 3.309e+06
  * acq_date     (acq_date) datetime64[ns] 2021-08-21 2022-01-16 ... 2022-04-06
    band         int64 1
    spatial_ref  int64 0
Data variables:
    vh           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;
Attributes: (12/16)
    sensor:                            S1A
    beam_mode:                         IW
    acquisition_date:                  2021-08-21 00:00:00
    acquisition_time:                  T000314
    polarisation_type:                 V
    primary_polarisation:              P
    ...                                ...
    masked:                            u
    filtered:                          n
    area:                              e
    product_id:                        748F
    utm_zone:                          UTM zone 45N
    epsg_code:                         EPSG:32645</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-592a392e-74b0-4bc5-b1d1-559e65d708f5' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-592a392e-74b0-4bc5-b1d1-559e65d708f5' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 17452</li><li><span class='xr-has-index'>y</span>: 13379</li><li><span class='xr-has-index'>acq_date</span>: 103</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-769cee23-c429-481d-8a5e-7c9c18da33f7' class='xr-section-summary-in' type='checkbox'  checked><label for='section-769cee23-c429-481d-8a5e-7c9c18da33f7' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.833e+05 3.833e+05 ... 9.068e+05</div><input id='attrs-a4975bb8-f2ef-4b7a-8b31-65976ebe16c0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a4975bb8-f2ef-4b7a-8b31-65976ebe16c0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-779a061b-55af-434b-8c2d-c27cc6e681a7' class='xr-var-data-in' type='checkbox'><label for='data-779a061b-55af-434b-8c2d-c27cc6e681a7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([383265., 383295., 383325., ..., 906735., 906765., 906795.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.907e+06 2.907e+06 ... 3.309e+06</div><input id='attrs-763065ab-4baa-4184-8fb0-ec5de2439b90' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-763065ab-4baa-4184-8fb0-ec5de2439b90' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-65e6806c-555b-4120-83c1-08877e4d2fa6' class='xr-var-data-in' type='checkbox'><label for='data-65e6806c-555b-4120-83c1-08877e4d2fa6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([2907375., 2907405., 2907435., ..., 3308655., 3308685., 3308715.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>acq_date</span></div><div class='xr-var-dims'>(acq_date)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2021-08-21 ... 2022-04-06</div><input id='attrs-85fc51cb-2fc9-4e88-b28d-57f4c9d7e777' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-85fc51cb-2fc9-4e88-b28d-57f4c9d7e777' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6054630c-e38e-41df-9d21-faa4165fa7f7' class='xr-var-data-in' type='checkbox'><label for='data-6054630c-e38e-41df-9d21-faa4165fa7f7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2021-08-21T00:00:00.000000000&#x27;, &#x27;2022-01-16T00:00:00.000000000&#x27;,
       &#x27;2021-07-08T00:00:00.000000000&#x27;, &#x27;2022-04-22T00:00:00.000000000&#x27;,
       &#x27;2022-04-27T00:00:00.000000000&#x27;, &#x27;2022-04-10T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2021-08-09T00:00:00.000000000&#x27;,
       &#x27;2021-09-26T00:00:00.000000000&#x27;, &#x27;2021-05-02T00:00:00.000000000&#x27;,
       &#x27;2021-12-28T00:00:00.000000000&#x27;, &#x27;2021-07-28T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2022-04-30T00:00:00.000000000&#x27;,
       &#x27;2021-05-21T00:00:00.000000000&#x27;, &#x27;2021-11-13T00:00:00.000000000&#x27;,
       &#x27;2021-06-02T00:00:00.000000000&#x27;, &#x27;2022-05-21T00:00:00.000000000&#x27;,
       &#x27;2021-12-19T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-23T00:00:00.000000000&#x27;, &#x27;2022-02-09T00:00:00.000000000&#x27;,
       &#x27;2021-12-07T00:00:00.000000000&#x27;, &#x27;2022-03-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-20T00:00:00.000000000&#x27;, &#x27;2021-11-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-02-05T00:00:00.000000000&#x27;, &#x27;2022-03-22T00:00:00.000000000&#x27;,
       &#x27;2022-02-17T00:00:00.000000000&#x27;, &#x27;2022-01-21T00:00:00.000000000&#x27;,
       &#x27;2021-11-22T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-04T00:00:00.000000000&#x27;, &#x27;2022-05-04T00:00:00.000000000&#x27;,
       &#x27;2021-09-14T00:00:00.000000000&#x27;, &#x27;2021-11-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;,
       &#x27;2021-05-26T00:00:00.000000000&#x27;, &#x27;2021-08-30T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-08-25T00:00:00.000000000&#x27;,
       &#x27;2021-08-06T00:00:00.000000000&#x27;, &#x27;2022-02-14T00:00:00.000000000&#x27;,
       &#x27;2021-08-13T00:00:00.000000000&#x27;, &#x27;2021-06-10T00:00:00.000000000&#x27;,
       &#x27;2021-06-26T00:00:00.000000000&#x27;, &#x27;2022-02-02T00:00:00.000000000&#x27;,
       &#x27;2021-09-30T00:00:00.000000000&#x27;, &#x27;2022-02-26T00:00:00.000000000&#x27;,
       &#x27;2021-11-01T00:00:00.000000000&#x27;, &#x27;2021-06-19T00:00:00.000000000&#x27;,
       &#x27;2021-05-17T00:00:00.000000000&#x27;, &#x27;2022-03-05T00:00:00.000000000&#x27;,
       &#x27;2022-03-10T00:00:00.000000000&#x27;, &#x27;2021-08-18T00:00:00.000000000&#x27;,
       &#x27;2022-04-15T00:00:00.000000000&#x27;, &#x27;2021-05-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-05T00:00:00.000000000&#x27;, &#x27;2021-05-05T00:00:00.000000000&#x27;,
       &#x27;2021-09-18T00:00:00.000000000&#x27;, &#x27;2021-10-17T00:00:00.000000000&#x27;,
       &#x27;2021-07-16T00:00:00.000000000&#x27;, &#x27;2022-01-28T00:00:00.000000000&#x27;,
       &#x27;2021-11-05T00:00:00.000000000&#x27;, &#x27;2021-10-12T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2021-09-11T00:00:00.000000000&#x27;,
       &#x27;2021-09-02T00:00:00.000000000&#x27;, &#x27;2021-06-14T00:00:00.000000000&#x27;,
       &#x27;2021-11-10T00:00:00.000000000&#x27;, &#x27;2021-07-04T00:00:00.000000000&#x27;,
       &#x27;2021-06-22T00:00:00.000000000&#x27;, &#x27;2022-01-04T00:00:00.000000000&#x27;,
       &#x27;2022-03-29T00:00:00.000000000&#x27;, &#x27;2022-02-21T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-09-06T00:00:00.000000000&#x27;,
       &#x27;2022-03-17T00:00:00.000000000&#x27;, &#x27;2021-10-08T00:00:00.000000000&#x27;,
       &#x27;2021-09-23T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2022-04-18T00:00:00.000000000&#x27;, &#x27;2022-01-24T00:00:00.000000000&#x27;,
       &#x27;2021-10-20T00:00:00.000000000&#x27;, &#x27;2022-01-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-24T00:00:00.000000000&#x27;, &#x27;2021-12-16T00:00:00.000000000&#x27;,
       &#x27;2021-11-17T00:00:00.000000000&#x27;, &#x27;2021-12-11T00:00:00.000000000&#x27;,
       &#x27;2022-05-16T00:00:00.000000000&#x27;, &#x27;2021-08-01T00:00:00.000000000&#x27;,
       &#x27;2022-05-09T00:00:00.000000000&#x27;, &#x27;2021-06-07T00:00:00.000000000&#x27;,
       &#x27;2021-07-25T00:00:00.000000000&#x27;, &#x27;2021-05-29T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-01-12T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-10-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-06T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-cd61eb0c-d016-4acb-a8b8-f5477fd6dbc8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-cd61eb0c-d016-4acb-a8b8-f5477fd6dbc8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ed1252a0-760d-4053-ac1b-c94961dcf692' class='xr-var-data-in' type='checkbox'><label for='data-ed1252a0-760d-4053-ac1b-c94961dcf692' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(1)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-cf909c89-8cdc-4660-a6a4-8923a155b60a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-cf909c89-8cdc-4660-a6a4-8923a155b60a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-134786bf-084f-42ce-bbf8-f1d5934a823d' class='xr-var-data-in' type='checkbox'><label for='data-134786bf-084f-42ce-bbf8-f1d5934a823d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / UTM zone 45N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>87.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>519570.0 30.0 0.0 3200520.0 0.0 -30.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-adf52dcd-0a99-4822-8436-a1321d504211' class='xr-section-summary-in' type='checkbox'  checked><label for='section-adf52dcd-0a99-4822-8436-a1321d504211' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>vh</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-12c35265-4e1f-4ae9-87e6-f99e96e51039' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-12c35265-4e1f-4ae9-87e6-f99e96e51039' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c5613e98-3c46-483c-aa6a-bcf97039877d' class='xr-var-data-in' type='checkbox'><label for='data-c5613e98-3c46-483c-aa6a-bcf97039877d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1186 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-c80d6018-fda5-474d-a060-28501e5a8532' class='xr-section-summary-in' type='checkbox'  ><label for='section-c80d6018-fda5-474d-a060-28501e5a8532' class='xr-section-summary' >Attributes: <span>(16)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>sensor :</span></dt><dd>S1A</dd><dt><span>beam_mode :</span></dt><dd>IW</dd><dt><span>acquisition_date :</span></dt><dd>2021-08-21 00:00:00</dd><dt><span>acquisition_time :</span></dt><dd>T000314</dd><dt><span>polarisation_type :</span></dt><dd>V</dd><dt><span>primary_polarisation :</span></dt><dd>P</dd><dt><span>orbit_type :</span></dt><dd>_</dd><dt><span>terrain_correction_pixel_spacing :</span></dt><dd>RTC30</dd><dt><span>output_format :</span></dt><dd>g</dd><dt><span>output_type :</span></dt><dd>p</dd><dt><span>masked :</span></dt><dd>u</dd><dt><span>filtered :</span></dt><dd>n</dd><dt><span>area :</span></dt><dd>e</dd><dt><span>product_id :</span></dt><dd>748F</dd><dt><span>utm_zone :</span></dt><dd>UTM zone 45N</dd><dt><span>epsg_code :</span></dt><dd>EPSG:32645</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_ls</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:              (x: 17452, y: 13379, acq_date: 103)
Coordinates:
  * x                    (x) float64 3.833e+05 3.833e+05 ... 9.068e+05 9.068e+05
  * y                    (y) float64 2.907e+06 2.907e+06 ... 3.309e+06 3.309e+06
  * acq_date             (acq_date) datetime64[ns] 2021-08-21 ... 2022-04-06
    band                 int64 1
    spatial_ref          int64 0
Data variables:
    layover_shadow_mask  (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;
Attributes: (12/16)
    sensor:                            S1A
    beam_mode:                         IW
    acquisition_date:                  2021-08-21 00:00:00
    acquisition_time:                  T000314
    polarisation_type:                 V
    primary_polarisation:              P
    ...                                ...
    masked:                            u
    filtered:                          n
    area:                              e
    product_id:                        748F
    utm_zone:                          UTM zone 45N
    epsg_code:                         EPSG:32645</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-adbfc472-c83d-4524-a79a-1c28187c0e6f' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-adbfc472-c83d-4524-a79a-1c28187c0e6f' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 17452</li><li><span class='xr-has-index'>y</span>: 13379</li><li><span class='xr-has-index'>acq_date</span>: 103</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-600905ad-6058-4a45-a0f9-e66b19b88a1c' class='xr-section-summary-in' type='checkbox'  checked><label for='section-600905ad-6058-4a45-a0f9-e66b19b88a1c' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.833e+05 3.833e+05 ... 9.068e+05</div><input id='attrs-c5520c91-6ed1-4dd9-a08c-3995e16feaa1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c5520c91-6ed1-4dd9-a08c-3995e16feaa1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ab138988-477a-40fe-81bc-34a2ea970117' class='xr-var-data-in' type='checkbox'><label for='data-ab138988-477a-40fe-81bc-34a2ea970117' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([383265., 383295., 383325., ..., 906735., 906765., 906795.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.907e+06 2.907e+06 ... 3.309e+06</div><input id='attrs-f7c4c9ac-0ae6-482c-b8ad-2ffceb25c6c5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f7c4c9ac-0ae6-482c-b8ad-2ffceb25c6c5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fccc2f0d-9023-4a3f-9f9e-ad7650b5a9f3' class='xr-var-data-in' type='checkbox'><label for='data-fccc2f0d-9023-4a3f-9f9e-ad7650b5a9f3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([2907375., 2907405., 2907435., ..., 3308655., 3308685., 3308715.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>acq_date</span></div><div class='xr-var-dims'>(acq_date)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2021-08-21 ... 2022-04-06</div><input id='attrs-58b92236-1695-43ef-ac3b-0b8942491f72' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-58b92236-1695-43ef-ac3b-0b8942491f72' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a8a37a40-b55a-4eba-a2cb-f2a14f1a2f00' class='xr-var-data-in' type='checkbox'><label for='data-a8a37a40-b55a-4eba-a2cb-f2a14f1a2f00' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2021-08-21T00:00:00.000000000&#x27;, &#x27;2022-01-16T00:00:00.000000000&#x27;,
       &#x27;2021-07-08T00:00:00.000000000&#x27;, &#x27;2022-04-22T00:00:00.000000000&#x27;,
       &#x27;2022-04-27T00:00:00.000000000&#x27;, &#x27;2022-04-10T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2021-08-09T00:00:00.000000000&#x27;,
       &#x27;2021-09-26T00:00:00.000000000&#x27;, &#x27;2021-05-02T00:00:00.000000000&#x27;,
       &#x27;2021-12-28T00:00:00.000000000&#x27;, &#x27;2021-07-28T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2022-04-30T00:00:00.000000000&#x27;,
       &#x27;2021-05-21T00:00:00.000000000&#x27;, &#x27;2021-11-13T00:00:00.000000000&#x27;,
       &#x27;2021-06-02T00:00:00.000000000&#x27;, &#x27;2022-05-21T00:00:00.000000000&#x27;,
       &#x27;2021-12-19T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-23T00:00:00.000000000&#x27;, &#x27;2022-02-09T00:00:00.000000000&#x27;,
       &#x27;2021-12-07T00:00:00.000000000&#x27;, &#x27;2022-03-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-20T00:00:00.000000000&#x27;, &#x27;2021-11-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-02-05T00:00:00.000000000&#x27;, &#x27;2022-03-22T00:00:00.000000000&#x27;,
       &#x27;2022-02-17T00:00:00.000000000&#x27;, &#x27;2022-01-21T00:00:00.000000000&#x27;,
       &#x27;2021-11-22T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-04T00:00:00.000000000&#x27;, &#x27;2022-05-04T00:00:00.000000000&#x27;,
       &#x27;2021-09-14T00:00:00.000000000&#x27;, &#x27;2021-11-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;,
       &#x27;2021-05-26T00:00:00.000000000&#x27;, &#x27;2021-08-30T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-08-25T00:00:00.000000000&#x27;,
       &#x27;2021-08-06T00:00:00.000000000&#x27;, &#x27;2022-02-14T00:00:00.000000000&#x27;,
       &#x27;2021-08-13T00:00:00.000000000&#x27;, &#x27;2021-06-10T00:00:00.000000000&#x27;,
       &#x27;2021-06-26T00:00:00.000000000&#x27;, &#x27;2022-02-02T00:00:00.000000000&#x27;,
       &#x27;2021-09-30T00:00:00.000000000&#x27;, &#x27;2022-02-26T00:00:00.000000000&#x27;,
       &#x27;2021-11-01T00:00:00.000000000&#x27;, &#x27;2021-06-19T00:00:00.000000000&#x27;,
       &#x27;2021-05-17T00:00:00.000000000&#x27;, &#x27;2022-03-05T00:00:00.000000000&#x27;,
       &#x27;2022-03-10T00:00:00.000000000&#x27;, &#x27;2021-08-18T00:00:00.000000000&#x27;,
       &#x27;2022-04-15T00:00:00.000000000&#x27;, &#x27;2021-05-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-05T00:00:00.000000000&#x27;, &#x27;2021-05-05T00:00:00.000000000&#x27;,
       &#x27;2021-09-18T00:00:00.000000000&#x27;, &#x27;2021-10-17T00:00:00.000000000&#x27;,
       &#x27;2021-07-16T00:00:00.000000000&#x27;, &#x27;2022-01-28T00:00:00.000000000&#x27;,
       &#x27;2021-11-05T00:00:00.000000000&#x27;, &#x27;2021-10-12T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2021-09-11T00:00:00.000000000&#x27;,
       &#x27;2021-09-02T00:00:00.000000000&#x27;, &#x27;2021-06-14T00:00:00.000000000&#x27;,
       &#x27;2021-11-10T00:00:00.000000000&#x27;, &#x27;2021-07-04T00:00:00.000000000&#x27;,
       &#x27;2021-06-22T00:00:00.000000000&#x27;, &#x27;2022-01-04T00:00:00.000000000&#x27;,
       &#x27;2022-03-29T00:00:00.000000000&#x27;, &#x27;2022-02-21T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-09-06T00:00:00.000000000&#x27;,
       &#x27;2022-03-17T00:00:00.000000000&#x27;, &#x27;2021-10-08T00:00:00.000000000&#x27;,
       &#x27;2021-09-23T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2022-04-18T00:00:00.000000000&#x27;, &#x27;2022-01-24T00:00:00.000000000&#x27;,
       &#x27;2021-10-20T00:00:00.000000000&#x27;, &#x27;2022-01-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-24T00:00:00.000000000&#x27;, &#x27;2021-12-16T00:00:00.000000000&#x27;,
       &#x27;2021-11-17T00:00:00.000000000&#x27;, &#x27;2021-12-11T00:00:00.000000000&#x27;,
       &#x27;2022-05-16T00:00:00.000000000&#x27;, &#x27;2021-08-01T00:00:00.000000000&#x27;,
       &#x27;2022-05-09T00:00:00.000000000&#x27;, &#x27;2021-06-07T00:00:00.000000000&#x27;,
       &#x27;2021-07-25T00:00:00.000000000&#x27;, &#x27;2021-05-29T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-01-12T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-10-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-06T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-758de503-dcad-4687-a92f-28d7dc92b447' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-758de503-dcad-4687-a92f-28d7dc92b447' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-350958a2-f0a2-4ce4-9b73-ce52cfc12eae' class='xr-var-data-in' type='checkbox'><label for='data-350958a2-f0a2-4ce4-9b73-ce52cfc12eae' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(1)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-9a8bc865-9b03-4e6c-b1e1-a75b9a113443' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9a8bc865-9b03-4e6c-b1e1-a75b9a113443' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b60a56ed-7de0-4012-b6fc-d361491ce3cf' class='xr-var-data-in' type='checkbox'><label for='data-b60a56ed-7de0-4012-b6fc-d361491ce3cf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / UTM zone 45N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>87.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>519570.0 30.0 0.0 3200520.0 0.0 -30.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-5f8e44de-5432-46bf-a643-f85f5ac5eff1' class='xr-section-summary-in' type='checkbox'  checked><label for='section-5f8e44de-5432-46bf-a643-f85f5ac5eff1' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>layover_shadow_mask</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-36cc64c5-396e-44ca-b002-73a15f06a1de' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-36cc64c5-396e-44ca-b002-73a15f06a1de' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5dbfad47-5acb-4063-bc8b-0e8c3c82ab2d' class='xr-var-data-in' type='checkbox'><label for='data-5dbfad47-5acb-4063-bc8b-0e8c3c82ab2d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1186 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-d3992496-f6df-427a-8095-34703c5ebb45' class='xr-section-summary-in' type='checkbox'  ><label for='section-d3992496-f6df-427a-8095-34703c5ebb45' class='xr-section-summary' >Attributes: <span>(16)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>sensor :</span></dt><dd>S1A</dd><dt><span>beam_mode :</span></dt><dd>IW</dd><dt><span>acquisition_date :</span></dt><dd>2021-08-21 00:00:00</dd><dt><span>acquisition_time :</span></dt><dd>T000314</dd><dt><span>polarisation_type :</span></dt><dd>V</dd><dt><span>primary_polarisation :</span></dt><dd>P</dd><dt><span>orbit_type :</span></dt><dd>_</dd><dt><span>terrain_correction_pixel_spacing :</span></dt><dd>RTC30</dd><dt><span>output_format :</span></dt><dd>g</dd><dt><span>output_type :</span></dt><dd>p</dd><dt><span>masked :</span></dt><dd>u</dd><dt><span>filtered :</span></dt><dd>n</dd><dt><span>area :</span></dt><dd>e</dd><dt><span>product_id :</span></dt><dd>748F</dd><dt><span>utm_zone :</span></dt><dd>UTM zone 45N</dd><dt><span>epsg_code :</span></dt><dd>EPSG:32645</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>Merge the VH, VV and layover-shadow mask objects into one <code class="docutils literal notranslate"><span class="pre">xr.Dataset</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;vv&#39;</span><span class="p">:</span><span class="n">asf_vv</span><span class="o">.</span><span class="n">vv</span><span class="p">,</span> <span class="s1">&#39;vh&#39;</span><span class="p">:</span><span class="n">asf_vh</span><span class="o">.</span><span class="n">vh</span><span class="p">,</span> <span class="s1">&#39;ls&#39;</span><span class="p">:</span><span class="n">asf_ls</span><span class="o">.</span><span class="n">layover_shadow_mask</span><span class="p">})</span>
<span class="n">asf_ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:      (x: 17452, y: 13379, acq_date: 103)
Coordinates:
  * x            (x) float64 3.833e+05 3.833e+05 ... 9.068e+05 9.068e+05
  * y            (y) float64 2.907e+06 2.907e+06 ... 3.309e+06 3.309e+06
  * acq_date     (acq_date) datetime64[ns] 2021-08-21 2022-01-16 ... 2022-04-06
    band         int64 1
    spatial_ref  int64 0
Data variables:
    vv           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;
    vh           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;
    ls           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-4ad39a75-efca-4369-a137-7fcd39598546' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-4ad39a75-efca-4369-a137-7fcd39598546' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 17452</li><li><span class='xr-has-index'>y</span>: 13379</li><li><span class='xr-has-index'>acq_date</span>: 103</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-fe813ea4-39eb-4ba1-896c-af426ffb3f83' class='xr-section-summary-in' type='checkbox'  checked><label for='section-fe813ea4-39eb-4ba1-896c-af426ffb3f83' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.833e+05 3.833e+05 ... 9.068e+05</div><input id='attrs-7edb0338-b5b7-4be8-80ca-31ebae607520' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7edb0338-b5b7-4be8-80ca-31ebae607520' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-01e3ebde-ceb8-490c-b650-d4c1d2331a87' class='xr-var-data-in' type='checkbox'><label for='data-01e3ebde-ceb8-490c-b650-d4c1d2331a87' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([383265., 383295., 383325., ..., 906735., 906765., 906795.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.907e+06 2.907e+06 ... 3.309e+06</div><input id='attrs-23046cde-bd67-4abb-9a81-30cfab86a257' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-23046cde-bd67-4abb-9a81-30cfab86a257' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cc4d4fb7-6009-4b34-809d-83f98d55dbde' class='xr-var-data-in' type='checkbox'><label for='data-cc4d4fb7-6009-4b34-809d-83f98d55dbde' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([2907375., 2907405., 2907435., ..., 3308655., 3308685., 3308715.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>acq_date</span></div><div class='xr-var-dims'>(acq_date)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2021-08-21 ... 2022-04-06</div><input id='attrs-447617e1-1be1-4d19-9270-e23fdc0e6659' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-447617e1-1be1-4d19-9270-e23fdc0e6659' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a3f904a6-87b4-4fdf-af74-954e6d6fe961' class='xr-var-data-in' type='checkbox'><label for='data-a3f904a6-87b4-4fdf-af74-954e6d6fe961' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2021-08-21T00:00:00.000000000&#x27;, &#x27;2022-01-16T00:00:00.000000000&#x27;,
       &#x27;2021-07-08T00:00:00.000000000&#x27;, &#x27;2022-04-22T00:00:00.000000000&#x27;,
       &#x27;2022-04-27T00:00:00.000000000&#x27;, &#x27;2022-04-10T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2021-08-09T00:00:00.000000000&#x27;,
       &#x27;2021-09-26T00:00:00.000000000&#x27;, &#x27;2021-05-02T00:00:00.000000000&#x27;,
       &#x27;2021-12-28T00:00:00.000000000&#x27;, &#x27;2021-07-28T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2022-04-30T00:00:00.000000000&#x27;,
       &#x27;2021-05-21T00:00:00.000000000&#x27;, &#x27;2021-11-13T00:00:00.000000000&#x27;,
       &#x27;2021-06-02T00:00:00.000000000&#x27;, &#x27;2022-05-21T00:00:00.000000000&#x27;,
       &#x27;2021-12-19T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-23T00:00:00.000000000&#x27;, &#x27;2022-02-09T00:00:00.000000000&#x27;,
       &#x27;2021-12-07T00:00:00.000000000&#x27;, &#x27;2022-03-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-20T00:00:00.000000000&#x27;, &#x27;2021-11-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-02-05T00:00:00.000000000&#x27;, &#x27;2022-03-22T00:00:00.000000000&#x27;,
       &#x27;2022-02-17T00:00:00.000000000&#x27;, &#x27;2022-01-21T00:00:00.000000000&#x27;,
       &#x27;2021-11-22T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-12-04T00:00:00.000000000&#x27;, &#x27;2022-05-04T00:00:00.000000000&#x27;,
       &#x27;2021-09-14T00:00:00.000000000&#x27;, &#x27;2021-11-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;,
       &#x27;2021-05-26T00:00:00.000000000&#x27;, &#x27;2021-08-30T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-08-25T00:00:00.000000000&#x27;,
       &#x27;2021-08-06T00:00:00.000000000&#x27;, &#x27;2022-02-14T00:00:00.000000000&#x27;,
       &#x27;2021-08-13T00:00:00.000000000&#x27;, &#x27;2021-06-10T00:00:00.000000000&#x27;,
       &#x27;2021-06-26T00:00:00.000000000&#x27;, &#x27;2022-02-02T00:00:00.000000000&#x27;,
       &#x27;2021-09-30T00:00:00.000000000&#x27;, &#x27;2022-02-26T00:00:00.000000000&#x27;,
       &#x27;2021-11-01T00:00:00.000000000&#x27;, &#x27;2021-06-19T00:00:00.000000000&#x27;,
       &#x27;2021-05-17T00:00:00.000000000&#x27;, &#x27;2022-03-05T00:00:00.000000000&#x27;,
       &#x27;2022-03-10T00:00:00.000000000&#x27;, &#x27;2021-08-18T00:00:00.000000000&#x27;,
       &#x27;2022-04-15T00:00:00.000000000&#x27;, &#x27;2021-05-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-05T00:00:00.000000000&#x27;, &#x27;2021-05-05T00:00:00.000000000&#x27;,
       &#x27;2021-09-18T00:00:00.000000000&#x27;, &#x27;2021-10-17T00:00:00.000000000&#x27;,
       &#x27;2021-07-16T00:00:00.000000000&#x27;, &#x27;2022-01-28T00:00:00.000000000&#x27;,
       &#x27;2021-11-05T00:00:00.000000000&#x27;, &#x27;2021-10-12T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2021-09-11T00:00:00.000000000&#x27;,
       &#x27;2021-09-02T00:00:00.000000000&#x27;, &#x27;2021-06-14T00:00:00.000000000&#x27;,
       &#x27;2021-11-10T00:00:00.000000000&#x27;, &#x27;2021-07-04T00:00:00.000000000&#x27;,
       &#x27;2021-06-22T00:00:00.000000000&#x27;, &#x27;2022-01-04T00:00:00.000000000&#x27;,
       &#x27;2022-03-29T00:00:00.000000000&#x27;, &#x27;2022-02-21T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-09-06T00:00:00.000000000&#x27;,
       &#x27;2022-03-17T00:00:00.000000000&#x27;, &#x27;2021-10-08T00:00:00.000000000&#x27;,
       &#x27;2021-09-23T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2022-04-18T00:00:00.000000000&#x27;, &#x27;2022-01-24T00:00:00.000000000&#x27;,
       &#x27;2021-10-20T00:00:00.000000000&#x27;, &#x27;2022-01-09T00:00:00.000000000&#x27;,
       &#x27;2021-10-24T00:00:00.000000000&#x27;, &#x27;2021-12-16T00:00:00.000000000&#x27;,
       &#x27;2021-11-17T00:00:00.000000000&#x27;, &#x27;2021-12-11T00:00:00.000000000&#x27;,
       &#x27;2022-05-16T00:00:00.000000000&#x27;, &#x27;2021-08-01T00:00:00.000000000&#x27;,
       &#x27;2022-05-09T00:00:00.000000000&#x27;, &#x27;2021-06-07T00:00:00.000000000&#x27;,
       &#x27;2021-07-25T00:00:00.000000000&#x27;, &#x27;2021-05-29T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-01-12T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-10-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-06T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-0bbb12d3-87c0-4106-9b91-0b3bdde9f86c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0bbb12d3-87c0-4106-9b91-0b3bdde9f86c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0649056b-1106-4625-bd1f-d71e43aaeb47' class='xr-var-data-in' type='checkbox'><label for='data-0649056b-1106-4625-bd1f-d71e43aaeb47' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(1)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-63396a08-2fc9-41a7-aa83-a180164e697c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-63396a08-2fc9-41a7-aa83-a180164e697c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-aa8af27f-4b8d-4046-a702-8324b4d9c27a' class='xr-var-data-in' type='checkbox'><label for='data-aa8af27f-4b8d-4046-a702-8324b4d9c27a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / UTM zone 45N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>87.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>519570.0 30.0 0.0 3200520.0 0.0 -30.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2ae4d061-2149-4183-8db5-86a0953697ff' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2ae4d061-2149-4183-8db5-86a0953697ff' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>vv</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-4739a0fb-7dd4-4ed7-8efc-3f090242db7b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4739a0fb-7dd4-4ed7-8efc-3f090242db7b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a402a38e-ec09-46e2-98d2-9ccd2588d5a5' class='xr-var-data-in' type='checkbox'><label for='data-a402a38e-ec09-46e2-98d2-9ccd2588d5a5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1186 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>vh</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-64b99b2a-e15a-4add-8c9b-409813a6ddb3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-64b99b2a-e15a-4add-8c9b-409813a6ddb3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-54fa1c27-e1b0-4a0a-a15e-2f35aaaba5d1' class='xr-var-data-in' type='checkbox'><label for='data-54fa1c27-e1b0-4a0a-a15e-2f35aaaba5d1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1186 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ls</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-9160d7a4-ec9a-4c7b-80be-3ed66ba5bfec' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9160d7a4-ec9a-4c7b-80be-3ed66ba5bfec' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-afbbb665-e86d-4732-9563-b8826704238e' class='xr-var-data-in' type='checkbox'><label for='data-afbbb665-e86d-4732-9563-b8826704238e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1186 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-aa88a80d-8cdc-4ce1-bd1f-e7e05cfada5e' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-aa88a80d-8cdc-4ce1-bd1f-e7e05cfada5e' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<p>If you take a look at the <code class="docutils literal notranslate"><span class="pre">acq_date</span></code> coordinate, you will see that they are not in order. Let’s sort by the <code class="docutils literal notranslate"><span class="pre">acq_date</span></code> (time) dimension using xarray <code class="docutils literal notranslate"><span class="pre">.sortby()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_ds_sorted</span> <span class="o">=</span> <span class="n">asf_ds</span><span class="o">.</span><span class="n">sortby</span><span class="p">(</span><span class="n">asf_ds</span><span class="o">.</span><span class="n">acq_date</span><span class="p">)</span>
<span class="n">asf_ds_sorted</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:      (x: 17452, y: 13379, acq_date: 103)
Coordinates:
  * x            (x) float64 3.833e+05 3.833e+05 ... 9.068e+05 9.068e+05
  * y            (y) float64 2.907e+06 2.907e+06 ... 3.309e+06 3.309e+06
  * acq_date     (acq_date) datetime64[ns] 2021-05-02 2021-05-05 ... 2022-05-21
    band         int64 1
    spatial_ref  int64 0
Data variables:
    vv           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;
    vh           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;
    ls           (acq_date, y, x) float32 dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-26601320-f712-47d0-be40-a68e27f369f8' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-26601320-f712-47d0-be40-a68e27f369f8' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 17452</li><li><span class='xr-has-index'>y</span>: 13379</li><li><span class='xr-has-index'>acq_date</span>: 103</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-bcc12dbc-a911-4646-9a72-943d8c489ffe' class='xr-section-summary-in' type='checkbox'  checked><label for='section-bcc12dbc-a911-4646-9a72-943d8c489ffe' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.833e+05 3.833e+05 ... 9.068e+05</div><input id='attrs-a148dcbd-9d7f-466a-8f9d-ed06ef519aba' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a148dcbd-9d7f-466a-8f9d-ed06ef519aba' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ebc9f39c-7ac0-4ec2-85a9-a4313d79a7f4' class='xr-var-data-in' type='checkbox'><label for='data-ebc9f39c-7ac0-4ec2-85a9-a4313d79a7f4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([383265., 383295., 383325., ..., 906735., 906765., 906795.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.907e+06 2.907e+06 ... 3.309e+06</div><input id='attrs-fe392b52-8109-4413-a3b4-932fe093eb7a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fe392b52-8109-4413-a3b4-932fe093eb7a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-93f3a7cb-07e3-4b55-9b01-475a74381e0e' class='xr-var-data-in' type='checkbox'><label for='data-93f3a7cb-07e3-4b55-9b01-475a74381e0e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([2907375., 2907405., 2907435., ..., 3308655., 3308685., 3308715.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>acq_date</span></div><div class='xr-var-dims'>(acq_date)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2021-05-02 ... 2022-05-21</div><input id='attrs-1ad7fa9a-11df-4fee-841c-867e4bae2f15' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1ad7fa9a-11df-4fee-841c-867e4bae2f15' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8aa5b44c-9709-4bb7-a01b-f4bba178bd2d' class='xr-var-data-in' type='checkbox'><label for='data-8aa5b44c-9709-4bb7-a01b-f4bba178bd2d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2021-05-02T00:00:00.000000000&#x27;, &#x27;2021-05-05T00:00:00.000000000&#x27;,
       &#x27;2021-05-09T00:00:00.000000000&#x27;, &#x27;2021-05-14T00:00:00.000000000&#x27;,
       &#x27;2021-05-14T00:00:00.000000000&#x27;, &#x27;2021-05-17T00:00:00.000000000&#x27;,
       &#x27;2021-05-21T00:00:00.000000000&#x27;, &#x27;2021-05-26T00:00:00.000000000&#x27;,
       &#x27;2021-05-29T00:00:00.000000000&#x27;, &#x27;2021-06-02T00:00:00.000000000&#x27;,
       &#x27;2021-06-07T00:00:00.000000000&#x27;, &#x27;2021-06-10T00:00:00.000000000&#x27;,
       &#x27;2021-06-14T00:00:00.000000000&#x27;, &#x27;2021-06-19T00:00:00.000000000&#x27;,
       &#x27;2021-06-22T00:00:00.000000000&#x27;, &#x27;2021-06-26T00:00:00.000000000&#x27;,
       &#x27;2021-07-01T00:00:00.000000000&#x27;, &#x27;2021-07-01T00:00:00.000000000&#x27;,
       &#x27;2021-07-04T00:00:00.000000000&#x27;, &#x27;2021-07-08T00:00:00.000000000&#x27;,
       &#x27;2021-07-13T00:00:00.000000000&#x27;, &#x27;2021-07-13T00:00:00.000000000&#x27;,
       &#x27;2021-07-13T00:00:00.000000000&#x27;, &#x27;2021-07-16T00:00:00.000000000&#x27;,
       &#x27;2021-07-20T00:00:00.000000000&#x27;, &#x27;2021-07-25T00:00:00.000000000&#x27;,
       &#x27;2021-07-28T00:00:00.000000000&#x27;, &#x27;2021-08-01T00:00:00.000000000&#x27;,
       &#x27;2021-08-06T00:00:00.000000000&#x27;, &#x27;2021-08-09T00:00:00.000000000&#x27;,
       &#x27;2021-08-13T00:00:00.000000000&#x27;, &#x27;2021-08-18T00:00:00.000000000&#x27;,
       &#x27;2021-08-21T00:00:00.000000000&#x27;, &#x27;2021-08-25T00:00:00.000000000&#x27;,
       &#x27;2021-08-30T00:00:00.000000000&#x27;, &#x27;2021-09-02T00:00:00.000000000&#x27;,
       &#x27;2021-09-06T00:00:00.000000000&#x27;, &#x27;2021-09-11T00:00:00.000000000&#x27;,
       &#x27;2021-09-14T00:00:00.000000000&#x27;, &#x27;2021-09-18T00:00:00.000000000&#x27;,
       &#x27;2021-09-23T00:00:00.000000000&#x27;, &#x27;2021-09-26T00:00:00.000000000&#x27;,
       &#x27;2021-09-30T00:00:00.000000000&#x27;, &#x27;2021-10-05T00:00:00.000000000&#x27;,
       &#x27;2021-10-08T00:00:00.000000000&#x27;, &#x27;2021-10-12T00:00:00.000000000&#x27;,
       &#x27;2021-10-17T00:00:00.000000000&#x27;, &#x27;2021-10-20T00:00:00.000000000&#x27;,
       &#x27;2021-10-24T00:00:00.000000000&#x27;, &#x27;2021-10-29T00:00:00.000000000&#x27;,
       &#x27;2021-11-01T00:00:00.000000000&#x27;, &#x27;2021-11-05T00:00:00.000000000&#x27;,
       &#x27;2021-11-10T00:00:00.000000000&#x27;, &#x27;2021-11-13T00:00:00.000000000&#x27;,
       &#x27;2021-11-17T00:00:00.000000000&#x27;, &#x27;2021-11-22T00:00:00.000000000&#x27;,
       &#x27;2021-11-25T00:00:00.000000000&#x27;, &#x27;2021-11-29T00:00:00.000000000&#x27;,
       &#x27;2021-12-04T00:00:00.000000000&#x27;, &#x27;2021-12-07T00:00:00.000000000&#x27;,
       &#x27;2021-12-11T00:00:00.000000000&#x27;, &#x27;2021-12-16T00:00:00.000000000&#x27;,
       &#x27;2021-12-19T00:00:00.000000000&#x27;, &#x27;2021-12-23T00:00:00.000000000&#x27;,
       &#x27;2021-12-28T00:00:00.000000000&#x27;, &#x27;2021-12-31T00:00:00.000000000&#x27;,
       &#x27;2022-01-04T00:00:00.000000000&#x27;, &#x27;2022-01-09T00:00:00.000000000&#x27;,
       &#x27;2022-01-12T00:00:00.000000000&#x27;, &#x27;2022-01-16T00:00:00.000000000&#x27;,
       &#x27;2022-01-21T00:00:00.000000000&#x27;, &#x27;2022-01-24T00:00:00.000000000&#x27;,
       &#x27;2022-01-28T00:00:00.000000000&#x27;, &#x27;2022-02-02T00:00:00.000000000&#x27;,
       &#x27;2022-02-05T00:00:00.000000000&#x27;, &#x27;2022-02-09T00:00:00.000000000&#x27;,
       &#x27;2022-02-14T00:00:00.000000000&#x27;, &#x27;2022-02-17T00:00:00.000000000&#x27;,
       &#x27;2022-02-21T00:00:00.000000000&#x27;, &#x27;2022-02-26T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-03-05T00:00:00.000000000&#x27;,
       &#x27;2022-03-10T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-03-17T00:00:00.000000000&#x27;, &#x27;2022-03-22T00:00:00.000000000&#x27;,
       &#x27;2022-03-25T00:00:00.000000000&#x27;, &#x27;2022-03-29T00:00:00.000000000&#x27;,
       &#x27;2022-04-03T00:00:00.000000000&#x27;, &#x27;2022-04-03T00:00:00.000000000&#x27;,
       &#x27;2022-04-06T00:00:00.000000000&#x27;, &#x27;2022-04-10T00:00:00.000000000&#x27;,
       &#x27;2022-04-15T00:00:00.000000000&#x27;, &#x27;2022-04-18T00:00:00.000000000&#x27;,
       &#x27;2022-04-22T00:00:00.000000000&#x27;, &#x27;2022-04-27T00:00:00.000000000&#x27;,
       &#x27;2022-04-30T00:00:00.000000000&#x27;, &#x27;2022-05-04T00:00:00.000000000&#x27;,
       &#x27;2022-05-09T00:00:00.000000000&#x27;, &#x27;2022-05-16T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;, &#x27;2022-05-21T00:00:00.000000000&#x27;,
       &#x27;2022-05-21T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-4816d112-3ecd-4577-8311-f38b19f2d20b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4816d112-3ecd-4577-8311-f38b19f2d20b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bf5538bc-7519-47b3-b215-4640010bb776' class='xr-var-data-in' type='checkbox'><label for='data-bf5538bc-7519-47b3-b215-4640010bb776' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(1)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-c82abf73-e676-4afd-baea-e6146b8dcf93' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c82abf73-e676-4afd-baea-e6146b8dcf93' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6bbb849b-b42b-47b8-a9ae-d974d4fa0358' class='xr-var-data-in' type='checkbox'><label for='data-6bbb849b-b42b-47b8-a9ae-d974d4fa0358' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / UTM zone 45N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>87.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 45N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,87],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32645&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>519570.0 30.0 0.0 3200520.0 0.0 -30.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a5dea5c6-319d-4b0f-868e-0f0667cf3e27' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a5dea5c6-319d-4b0f-868e-0f0667cf3e27' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>vv</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-b236490a-22f8-4d28-9676-1ef142395a51' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b236490a-22f8-4d28-9676-1ef142395a51' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-74b90f00-6295-4a3f-8b43-5d26ef85466c' class='xr-var-data-in' type='checkbox'><label for='data-74b90f00-6295-4a3f-8b43-5d26ef85466c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1187 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>vh</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-7038c993-aa6d-46a7-9a8a-c685de873fdf' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7038c993-aa6d-46a7-9a8a-c685de873fdf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0aaa769c-90ff-4856-b031-a82e1fc47f23' class='xr-var-data-in' type='checkbox'><label for='data-0aaa769c-90ff-4856-b031-a82e1fc47f23' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1187 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ls</span></div><div class='xr-var-dims'>(acq_date, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 13379, 17452), meta=np.ndarray&gt;</div><input id='attrs-48f018c3-1fa9-4862-ad9e-14ab2af3b33d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-48f018c3-1fa9-4862-ad9e-14ab2af3b33d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f9dd2a1c-33b1-4227-9eb0-1b28794877f3' class='xr-var-data-in' type='checkbox'><label for='data-f9dd2a1c-33b1-4227-9eb0-1b28794877f3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 89.59 GiB </td>
                        <td> 890.69 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (103, 13379, 17452) </td>
                        <td> (1, 13379, 17452) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 1187 Graph Layers </td>
                        <td> 103 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float32 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="194" height="156" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="10" y1="91" x2="24" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="91" style="stroke-width:2" />
  <line x1="10" y1="0" x2="10" y2="92" />
  <line x1="11" y1="1" x2="11" y2="93" />
  <line x1="12" y1="2" x2="12" y2="94" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="13" y1="3" x2="13" y2="95" />
  <line x1="14" y1="4" x2="14" y2="96" />
  <line x1="15" y1="5" x2="15" y2="97" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="16" y1="6" x2="16" y2="98" />
  <line x1="17" y1="7" x2="17" y2="99" />
  <line x1="18" y1="8" x2="18" y2="100" />
  <line x1="19" y1="9" x2="19" y2="101" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="20" y1="10" x2="20" y2="102" />
  <line x1="21" y1="11" x2="21" y2="103" />
  <line x1="22" y1="12" x2="22" y2="104" />
  <line x1="23" y1="13" x2="23" y2="105" />
  <line x1="24" y1="14" x2="24" y2="106" />
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,106.94263874737072 10.0,91.99404079761632" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="10" y1="0" x2="130" y2="0" />
  <line x1="11" y1="1" x2="131" y2="1" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="13" y1="3" x2="133" y2="3" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="15" y1="5" x2="135" y2="5" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="17" y1="7" x2="137" y2="7" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="19" y1="9" x2="139" y2="9" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="21" y1="11" x2="141" y2="11" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="23" y1="13" x2="143" y2="13" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="24" y2="14" style="stroke-width:2" />
  <line x1="130" y1="0" x2="144" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="24" y1="14" x2="144" y2="14" style="stroke-width:2" />
  <line x1="24" y1="106" x2="144" y2="106" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="24" y1="14" x2="24" y2="106" style="stroke-width:2" />
  <line x1="144" y1="14" x2="144" y2="106" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,106.94263874737072 24.9485979497544,106.94263874737072" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="84.948598" y="126.942639" font-size="1.0rem" font-weight="100" text-anchor="middle" >17452</text>
  <text x="164.948598" y="60.945618" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,164.948598,60.945618)">13379</text>
  <text x="7.474299" y="119.468340" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,7.474299,119.468340)">103</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-a4a206c5-d3ac-4916-8620-77fa2e45e701' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-a4a206c5-d3ac-4916-8620-77fa2e45e701' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="section" id="clip-stack-to-aoi">
<h3>Clip stack to AOI<a class="headerlink" href="#clip-stack-to-aoi" title="Permalink to this headline">#</a></h3>
<p>This is a pretty unwieldly object (nearly 200 GB). Let’s subset it down to just the area we want to focus on. Read in the following GeoJSON to clip the dataset to the area of interest we’ll be using in this tutorial. This AOI covers a region in the central Himalaya near the Chinese border</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>provide more background on region/AOI here, plus use  cartopy to add basemap to the plot of AOI?</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#pc_aoi = gpd.read_file(&#39;https://github.com/e-marshall/s1_book/raw/main/data/hma_lakes_aoi.geojson&#39;)</span>
<span class="n">pc_aoi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;/home/emmamarshall/Desktop/siparcs/s1_book/data/hma_lakes_aoi.geojson&#39;</span><span class="p">)</span>
<span class="c1">#pc_aoi = gpd.read_file(&#39;https://github.com/e-marshall/sentinel1_rtc/raw/main/hma_rtc_aoi.geojson&#39;)</span>
<span class="n">pc_aoi</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">CPLE_OpenFailedError</span><span class="g g-Whitespace">                      </span>Traceback (most recent call last)
<span class="nn">File fiona/_shim.pyx:83,</span> in <span class="ni">fiona._shim.gdal_open_vector</span><span class="nt">()</span>

<span class="nn">File fiona/_err.pyx:291,</span> in <span class="ni">fiona._err.exc_wrap_pointer</span><span class="nt">()</span>

<span class="ne">CPLE_OpenFailedError</span>: /home/emmamarshall/Desktop/siparcs/s1_book/data/hma_lakes_aoi.geojson: No such file or directory

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">DriverError</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="nn">Input In [20],</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1">#pc_aoi = gpd.read_file(&#39;https://github.com/e-marshall/s1_book/raw/main/data/hma_lakes_aoi.geojson&#39;)</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">pc_aoi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;/home/emmamarshall/Desktop/siparcs/s1_book/data/hma_lakes_aoi.geojson&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1">#pc_aoi = gpd.read_file(&#39;https://github.com/e-marshall/sentinel1_rtc/raw/main/hma_rtc_aoi.geojson&#39;)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">pc_aoi</span>

<span class="nn">File ~/miniconda3/envs/sentinel/lib/python3.10/site-packages/geopandas/io/file.py:253,</span> in <span class="ni">_read_file</span><span class="nt">(filename, bbox, mask, rows, engine, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">250</span>     <span class="n">path_or_bytes</span> <span class="o">=</span> <span class="n">filename</span>
<span class="g g-Whitespace">    </span><span class="mi">252</span> <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;fiona&quot;</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">253</span>     <span class="k">return</span> <span class="n">_read_file_fiona</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">254</span>         <span class="n">path_or_bytes</span><span class="p">,</span> <span class="n">from_bytes</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">255</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">256</span> <span class="k">elif</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;pyogrio&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">257</span>     <span class="k">return</span> <span class="n">_read_file_pyogrio</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">258</span>         <span class="n">path_or_bytes</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">259</span>     <span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/sentinel/lib/python3.10/site-packages/geopandas/io/file.py:294,</span> in <span class="ni">_read_file_fiona</span><span class="nt">(path_or_bytes, from_bytes, bbox, mask, rows, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">291</span>     <span class="n">reader</span> <span class="o">=</span> <span class="n">fiona</span><span class="o">.</span><span class="n">open</span>
<span class="g g-Whitespace">    </span><span class="mi">293</span> <span class="k">with</span> <span class="n">fiona_env</span><span class="p">():</span>
<span class="ne">--&gt; </span><span class="mi">294</span>     <span class="k">with</span> <span class="n">reader</span><span class="p">(</span><span class="n">path_or_bytes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">as</span> <span class="n">features</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">295</span> 
<span class="g g-Whitespace">    </span><span class="mi">296</span>         <span class="c1"># In a future Fiona release the crs attribute of features will</span>
<span class="g g-Whitespace">    </span><span class="mi">297</span>         <span class="c1"># no longer be a dict, but will behave like a dict. So this should</span>
<span class="g g-Whitespace">    </span><span class="mi">298</span>         <span class="c1"># be forwards compatible</span>
<span class="g g-Whitespace">    </span><span class="mi">299</span>         <span class="n">crs</span> <span class="o">=</span> <span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">300</span>             <span class="n">features</span><span class="o">.</span><span class="n">crs</span><span class="p">[</span><span class="s2">&quot;init&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">301</span>             <span class="k">if</span> <span class="n">features</span><span class="o">.</span><span class="n">crs</span> <span class="ow">and</span> <span class="s2">&quot;init&quot;</span> <span class="ow">in</span> <span class="n">features</span><span class="o">.</span><span class="n">crs</span>
<span class="g g-Whitespace">    </span><span class="mi">302</span>             <span class="k">else</span> <span class="n">features</span><span class="o">.</span><span class="n">crs_wkt</span>
<span class="g g-Whitespace">    </span><span class="mi">303</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span>         <span class="c1"># handle loading the bounding box</span>

<span class="nn">File ~/miniconda3/envs/sentinel/lib/python3.10/site-packages/fiona/env.py:408,</span> in <span class="ni">ensure_env_with_credentials.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">405</span> <span class="nd">@wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">406</span> <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">407</span>     <span class="k">if</span> <span class="n">local</span><span class="o">.</span><span class="n">_env</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">408</span>         <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">409</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">410</span>         <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>

<span class="nn">File ~/miniconda3/envs/sentinel/lib/python3.10/site-packages/fiona/__init__.py:264,</span> in <span class="ni">open</span><span class="nt">(fp, mode, driver, schema, crs, encoding, layer, vfs, enabled_drivers, crs_wkt, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">261</span>     <span class="n">path</span> <span class="o">=</span> <span class="n">parse_path</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">263</span> <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">264</span>     <span class="n">c</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">265</span>                    <span class="n">layer</span><span class="o">=</span><span class="n">layer</span><span class="p">,</span> <span class="n">enabled_drivers</span><span class="o">=</span><span class="n">enabled_drivers</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">266</span> <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;w&#39;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">267</span>     <span class="k">if</span> <span class="n">schema</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">268</span>         <span class="c1"># Make an ordered dict of schema properties.</span>

<span class="nn">File ~/miniconda3/envs/sentinel/lib/python3.10/site-packages/fiona/collection.py:162,</span> in <span class="ni">Collection.__init__</span><span class="nt">(self, path, mode, driver, schema, crs, encoding, layer, vsi, archive, enabled_drivers, crs_wkt, ignore_fields, ignore_geometry, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">160</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">161</span>     <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="ne">--&gt; </span><span class="mi">162</span>     <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">163</span> <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">164</span>     <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">WritingSession</span><span class="p">()</span>

<span class="nn">File fiona/ogrext.pyx:540,</span> in <span class="ni">fiona.ogrext.Session.start</span><span class="nt">()</span>

<span class="nn">File fiona/_shim.pyx:90,</span> in <span class="ni">fiona._shim.gdal_open_vector</span><span class="nt">()</span>

<span class="ne">DriverError</span>: /home/emmamarshall/Desktop/siparcs/s1_book/data/hma_lakes_aoi.geojson: No such file or directory
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pc_aoi</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [21],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">pc_aoi</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;pc_aoi&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip</span> <span class="o">=</span> <span class="n">asf_ds_sorted</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">pc_aoi</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="n">pc_aoi</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [22],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip</span> <span class="o">=</span> <span class="n">asf_ds_sorted</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">pc_aoi</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="n">pc_aoi</span><span class="o">.</span><span class="n">crs</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;pc_aoi&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Check the size of the clipped object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [23],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">nbytes</span><span class="o">/</span><span class="mf">1e6</span>

<span class="ne">NameError</span>: name &#39;asf_clip&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#we don&#39;t want to compute this right now, will kill kernel</span>
<span class="c1">#asf_clip_load = asf_clip.compute()</span>
</pre></div>
</div>
</div>
</div>
<p>Taking a quick look at the VH, VV and mask variables for a few different time steps, it looks lie several time steps have a fair amount of missing data. Let’s confirm this and then remove datasets that are missing data above a certain threshold.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">power_to_db</span><span class="p">(</span><span class="n">input_arr</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">input_arr</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">data</span><span class="p">)[:</span><span class="o">-</span><span class="mi">19</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [26],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">str</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">data</span><span class="p">)[:</span><span class="o">-</span><span class="mi">19</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;asf_clip&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">ls</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">vv</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Greys_r</span><span class="p">);</span>
<span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">vh</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Greys_r</span><span class="p">);</span>

<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Layover-shadow mask (L), VV (C) and VH (R) backscatter on </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">acq_date</span><span class="o">.</span><span class="n">data</span><span class="p">)[:</span><span class="o">-</span><span class="mi">19</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [27],</span> in <span class="ni">&lt;cell line: 3&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">ls</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">vv</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Greys_r</span><span class="p">);</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">vh</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Greys_r</span><span class="p">);</span>

<span class="ne">NameError</span>: name &#39;asf_clip&#39; is not defined
</pre></div>
</div>
<img alt="_images/asf_local_mf_45_1.png" src="_images/asf_local_mf_45_1.png" />
</div>
</div>
<p><strong>layover shadow mask interpreation</strong>:</p>
<p>the values are a summation of 17 possible pixel values:</p>
<p>0 - not tested for layover or shadow
1 - not affected by layover or shadow</p>
<p>3 - look angle &lt; slope angle</p>
<p>5 - affected by layover</p>
<p>7 - affected by layover, look angle &lt; slope</p>
<p>9 - look angle &lt; opposite slope angle</p>
<p>11 - look angle &lt; slope and opposite slope angle</p>
<p>13 - affected by layover; look angle &lt; opposite slope angle</p>
<p>15 - affected by layover; look angle &lt; slope and opposite slope angle</p>
<p>17 - affected by shadow</p>
<p>19 - affected by shadow; look angle &lt; slope angle</p>
<p>21 - affected by layover and shadow</p>
<p>23 -</p>
<p>Let’s write a quick function to take a look at a similar breakdown for other time steps more easily:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_timestep</span><span class="p">(</span><span class="n">input_arr</span><span class="p">,</span> <span class="n">time_step_int</span><span class="p">):</span>
    
    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

    <span class="n">input_arr</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="n">time_step_int</span><span class="p">)</span><span class="o">.</span><span class="n">ls</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="n">power_to_db</span><span class="p">(</span><span class="n">input_arr</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="n">time_step_int</span><span class="p">)</span><span class="o">.</span><span class="n">vv</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Greys_r</span><span class="p">);</span>
    <span class="n">power_to_db</span><span class="p">(</span><span class="n">input_arr</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="n">time_step_int</span><span class="p">)</span><span class="o">.</span><span class="n">vh</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Greys_r</span><span class="p">);</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Layover-shadow mask (L), VV (C) and VH (R) backscatter </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="n">time_step_int</span><span class="p">)</span><span class="o">.</span><span class="n">acq_date</span><span class="p">)[:</span><span class="o">-</span><span class="mi">19</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_timestep</span><span class="p">(</span><span class="n">asf_clip</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [29],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">plot_timestep</span><span class="p">(</span><span class="n">asf_clip</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;asf_clip&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>It looks like there are some interesting differences between the geometric distortions within the two images. Let’s take a look at them side-by-side:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>

<span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">ls</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span> <span class="n">vmin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">ls</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span> <span class="n">vmin</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [30],</span> in <span class="ni">&lt;cell line: 3&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">ls</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span> <span class="n">vmin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">acq_date</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">ls</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span> <span class="n">vmin</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>

<span class="ne">NameError</span>: name &#39;asf_clip&#39; is not defined
</pre></div>
</div>
<img alt="_images/asf_local_mf_51_1.png" src="_images/asf_local_mf_51_1.png" />
</div>
</div>
<p>It looks like there are areas affected by different distortion effects on different dates. For example, in the lower left quadrant, there is a region that is blue (5) on 6/7/2010 but most of that area appears green (19) on 6/10/2010. On 6/7, that area is affected by layover, but on 6/10 much of that same area seems to be in the radar shadow.</p>
<p>This approach works but it is not very computationally efficient. We are reading in a vast footprint of data to subset it to a much smaller area. While it is able to execute on this machine, a more computationally-intensive workflow would fail.</p>
<p>Another approach we can try is to use gdal vrt objects. Gdal vrt objects create an xml file from a list of geotiff files. The xml contains a mapping of all of the specified raster files so that we essentially have the spatial information that would have been used to create the full data object, and all of the information we need for a clip. VRT objects are able to handle the mismatch of grids within the stack of files, so does not encounter the memory issues that we get when trying the <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset()</span></code> approach with dask.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>maybe take the below section out?</p>
</div>
</div>
</div>
<div class="section" id="convert-from-power-to-db-scale">
<h2>Convert from power to db scale<a class="headerlink" href="#convert-from-power-to-db-scale" title="Permalink to this headline">#</a></h2>
<p>In the above plots, we wrapped the xarray objects in the <code class="docutils literal notranslate"><span class="pre">power_to_db()</span></code> function to convert the data from power-scale to decibel-scale (from gamma-nought to sigma-nought). The cells below will demonstrate how to use xarray functionality to transform the power-scale objects to decibel-scale objects if we wanted to work with them further.</p>
<p>The first way you might think to do this would be to create a new <code class="docutils literal notranslate"><span class="pre">xr.Dataset</span></code> object out of the <code class="docutils literal notranslate"><span class="pre">vrt_clip</span></code> object by applying <code class="docutils literal notranslate"><span class="pre">power_to_db()</span></code> to each <code class="docutils literal notranslate"><span class="pre">xr.DataArray</span></code> object (see the code below). However, there is an easier way to do this that requires less lines of code and uses more built-in xarray functionality. This is to use the <code class="docutils literal notranslate"><span class="pre">.map()</span></code> or <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> function. <code class="docutils literal notranslate"><span class="pre">apply()</span></code> is a backwards compatible version of <code class="docutils literal notranslate"><span class="pre">.map()</span></code>. Read more about them <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.apply.html?highlight=apply()">here</a> and <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.map.html#xarray.Dataset.map">here</a>. This powerful function let’s us apply the transformation to each variable within an <code class="docutils literal notranslate"><span class="pre">xr.Dataset</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip_sigma1</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;vv&#39;</span><span class="p">:</span><span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">vv</span><span class="p">),</span>
                  <span class="s1">&#39;vh&#39;</span><span class="p">:</span><span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">vh</span><span class="p">),</span>
                    <span class="s1">&#39;ls&#39;</span><span class="p">:</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">ls</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [31],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip_sigma1</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span><span class="s1">&#39;vv&#39;</span><span class="p">:</span><span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">vv</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>                   <span class="s1">&#39;vh&#39;</span><span class="p">:</span><span class="n">power_to_db</span><span class="p">(</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">vh</span><span class="p">),</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>                     <span class="s1">&#39;ls&#39;</span><span class="p">:</span><span class="n">asf_clip</span><span class="o">.</span><span class="n">ls</span><span class="p">})</span>

<span class="ne">NameError</span>: name &#39;asf_clip&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip_sigma_m</span> <span class="o">=</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">power_to_db</span><span class="p">)</span>
<span class="n">asf_clip_sigma_a</span> <span class="o">=</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">power_to_db</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [32],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip_sigma_m</span> <span class="o">=</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">power_to_db</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">asf_clip_sigma_a</span> <span class="o">=</span> <span class="n">asf_clip</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">power_to_db</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;asf_clip&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip_sigma_m</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">asf_clip_sigma_a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [33],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip_sigma_m</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">asf_clip_sigma_a</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;asf_clip_sigma_m&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip_sigma_m</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">asf_clip_sigma1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [34],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip_sigma_m</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">asf_clip_sigma1</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;asf_clip_sigma_m&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip_sigma</span> <span class="o">=</span> <span class="n">asf_clip_sigma_m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [35],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip_sigma</span> <span class="o">=</span> <span class="n">asf_clip_sigma_m</span>

<span class="ne">NameError</span>: name &#39;asf_clip_sigma_m&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asf_clip_sigma</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [36],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">asf_clip_sigma</span>

<span class="ne">NameError</span>: name &#39;asf_clip_sigma&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="ch1_root.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Data cleaning and organization</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="asf_local_vrt_troubleshoot.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">GDAL VRT approach</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By emma marshall<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>